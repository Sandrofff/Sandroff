<!DOCTYPE html>
<html lang="ru" class="no-js">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta content='width=1024' name='viewport'>
<title>Data Science проект от исследования до внедрения на примере Говорящей шляпы / Блог компании Open Data Science / Хабр</title>

  <meta name="description" content="
Месяц назад Лента запустила конкурс, в рамках которого та самая Говорящая Шляпа из Гарри Поттера определяет предоставивших доступ к социальной сети участников на один из четырех факультетов...." />

  <meta name="keywords" content="ods, harry potter, crisp, crisp-dm, data science, docker" />

  <meta property="fb:app_id" content="444736788986613" />
<meta property="og:locale" content="ru_RU" />
<meta property="og:type" content="article" />
<meta property="fb:pages" content="472597926099084"/>
<meta property="og:url" content="https://habr.com/company/ods/blog/430006/" />
<meta property="og:title" content="Data Science проект от исследования до внедрения на примере Говорящей шляпы" />

    <meta property="og:image" content="https://habrastorage.org/webt/4h/il/lk/4hillkjrgatenqqix3nypmyn8vm.png" />
    <link rel="image_src" href="https://habrastorage.org/webt/4h/il/lk/4hillkjrgatenqqix3nypmyn8vm.png" />
      <meta name="twitter:image" content="https://habrastorage.org/webt/4h/il/lk/4hillkjrgatenqqix3nypmyn8vm.png">
    <meta property="og:image" content="https://habrastorage.org/webt/6l/pf/oa/6lpfoa17u8pxjkf7wke7pm19-h0.png" />
    <link rel="image_src" href="https://habrastorage.org/webt/6l/pf/oa/6lpfoa17u8pxjkf7wke7pm19-h0.png" />
    <meta property="og:image" content="https://habrastorage.org/getpro/habr/formulas/e83/a2b/a81/e83a2ba8190f74f5a8a3a18ee11bf671.svg" />
    <link rel="image_src" href="https://habrastorage.org/getpro/habr/formulas/e83/a2b/a81/e83a2ba8190f74f5a8a3a18ee11bf671.svg" />
    <meta property="og:image" content="https://habrastorage.org/getpro/habr/formulas/0b4/7aa/405/0b47aa4052f3e1bc9c7f1f486b959fee.svg" />
    <link rel="image_src" href="https://habrastorage.org/getpro/habr/formulas/0b4/7aa/405/0b47aa4052f3e1bc9c7f1f486b959fee.svg" />
    <meta property="og:image" content="https://habrastorage.org/webt/ff/f8/4e/fff84efaafg_yqwbhuhbfyz17k0.jpeg" />
    <link rel="image_src" href="https://habrastorage.org/webt/ff/f8/4e/fff84efaafg_yqwbhuhbfyz17k0.jpeg" />
    <meta property="og:image" content="https://habrastorage.org/getpro/habr/formulas/231/683/e71/231683e71fc82d79c49a0aa3bc0e40e7.svg" />
    <link rel="image_src" href="https://habrastorage.org/getpro/habr/formulas/231/683/e71/231683e71fc82d79c49a0aa3bc0e40e7.svg" />
    <meta property="og:image" content="https://habrastorage.org/webt/5-/-e/4g/5--e4gvhmdhe00fxjhwqnxzdajk.png" />
    <link rel="image_src" href="https://habrastorage.org/webt/5-/-e/4g/5--e4gvhmdhe00fxjhwqnxzdajk.png" />
    <meta property="og:image" content="https://habrastorage.org/webt/ff/i0/fq/ffi0fqqs7gbi3aczbucvusrw2qi.jpeg" />
    <link rel="image_src" href="https://habrastorage.org/webt/ff/i0/fq/ffi0fqqs7gbi3aczbucvusrw2qi.jpeg" />
    <meta property="og:image" content="https://habrastorage.org/webt/hc/ag/ci/hcagciojsjdzpglovd1xabohtym.jpeg" />
    <link rel="image_src" href="https://habrastorage.org/webt/hc/ag/ci/hcagciojsjdzpglovd1xabohtym.jpeg" />
    <meta property="og:image" content="https://habrastorage.org/webt/kc/pq/r7/kcpqr7dw_t-yudtoda54qj1su3o.jpeg" />
    <link rel="image_src" href="https://habrastorage.org/webt/kc/pq/r7/kcpqr7dw_t-yudtoda54qj1su3o.jpeg" />

<meta property="og:description" content="Месяц назад Лента запустила конкурс, в рамках которого та самая Говорящая Шляпа из Гарри Поттера определяет предоставивших доступ к социальной сети участников..." />
<meta name="twitter:description" content="Месяц назад Лента запустила конкурс, в рамках которого та самая Говорящая Шляпа из Гарри Поттера определяет предоставивших доступ к социальной сети участников...">
<meta name="twitter:title" content="Data Science проект от исследования до внедрения на примере Говорящей шляпы" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@habr_com" />

  <meta property="al:android:url" content="habrahabr://post/430006" />
<meta property="al:android:app_name" content="Habrahabr" />
<meta property="al:android:package" content="ru.habrahabr" />
<meta property="al:windows_phone:url" content="habrahabr://post/430006" />
<meta property="al:windows_phone:app_name" content="Habrahabr" />
<meta property="al:windows_phone:app_id" content="460a6bd6-8955-470f-935e-9ea1726a6060" />
  <link rel="canonical" href="https://habr.com/company/ods/blog/430006/"/>
  <link rel="alternate" media="only screen and (max-width: 640px)" href="https://m.habr.com/company/ods/blog/430006/" >

  <script type="application/ld+json">
    {
    "@context": "http:\/\/schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https:\/\/habr.com\/company\/ods\/blog\/430006\/"
    },
    "headline": "Data Science проект от исследования до внедрения на примере Говорящей шляпы",
    "datePublished": "2018-11-22T14:15:59+03:00",
    "dateModified": "2018-11-22T16:39:51+03:00",
    "author": {
        "@type": "Person",
        "name": "Кирилл Малев"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Habr",
        "logo": {
            "@type": "ImageObject",
            "url": "https:\/\/dr.habracdn.net\/habrcom\/images\/habr_google.png"
        }
    },
    "description": "Месяц назад Лента запустила конкурс, в рамках которого та самая Говорящая Шляпа из Гарри Поттера определяет предоставивших доступ к социальной сети участников...",
    "image": [
        "https:\/\/habrastorage.org\/webt\/4h\/il\/lk\/4hillkjrgatenqqix3nypmyn8vm.png",
        "https:\/\/habrastorage.org\/webt\/6l\/pf\/oa\/6lpfoa17u8pxjkf7wke7pm19-h0.png",
        "https:\/\/habrastorage.org\/getpro\/habr\/formulas\/e83\/a2b\/a81\/e83a2ba8190f74f5a8a3a18ee11bf671.svg",
        "https:\/\/habrastorage.org\/getpro\/habr\/formulas\/0b4\/7aa\/405\/0b47aa4052f3e1bc9c7f1f486b959fee.svg",
        "https:\/\/habrastorage.org\/webt\/ff\/f8\/4e\/fff84efaafg_yqwbhuhbfyz17k0.jpeg",
        "https:\/\/habrastorage.org\/getpro\/habr\/formulas\/231\/683\/e71\/231683e71fc82d79c49a0aa3bc0e40e7.svg",
        "https:\/\/habrastorage.org\/webt\/5-\/-e\/4g\/5--e4gvhmdhe00fxjhwqnxzdajk.png",
        "https:\/\/habrastorage.org\/webt\/ff\/i0\/fq\/ffi0fqqs7gbi3aczbucvusrw2qi.jpeg",
        "https:\/\/habrastorage.org\/webt\/hc\/ag\/ci\/hcagciojsjdzpglovd1xabohtym.jpeg",
        "https:\/\/habrastorage.org\/webt\/kc\/pq\/r7\/kcpqr7dw_t-yudtoda54qj1su3o.jpeg"
    ]
}
  </script>


<meta name='yandex-verification' content='71593b225aeafc4e' />
<meta name='referrer' content='unsafe-url' />
<meta name="pocket-site-verification" content="ed24b2b9721edf0a282c5b4a3232c4" />


<style type="text/css">
  @font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;src:url(/fonts/0/FiraSans/firaSans-medium.eot);src:local("Fira Sans Medium"),local("FiraSans-Medium"),url(/fonts/0/FiraSans/firaSans-medium.eot?#iefix) format("embedded-opentype"),url(/fonts/0/FiraSans/firaSans-medium.woff2) format("woff2"),url(/fonts/0/FiraSans/firaSans-medium.woff) format("woff"),url(/fonts/0/FiraSans/firaSans-medium.ttf) format("truetype")}
</style>

<link href="https://dr.habracdn.net/habrcom/styles/1543570818/main.bundle.css" rel="stylesheet" media="all" />





<meta name='yandex-verification' content='67d46b975fa41645' />

<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#77a2b6">
<meta name="application-name" content="Хабр"/>
<meta name="msapplication-TileColor" content="#77a2b6">
<meta name="theme-color" content="#77a2b6">


  <link title="Хабр / Блог компании Open Data Science / Комментарии к публикации «Data Science проект от исследования до внедрения на примере Говорящей шляпы»" type="application/rss+xml" rel="alternate" href="https://habr.com/rss/post/430006/?hl=ru_RU&fl=ru%2Cen"/>

<script>/* Font Face Observer v2.0.13 - © Bram Stein. License: BSD-3-Clause */(function(){'use strict';var f,g=[];function l(a){g.push(a);1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}f=function(){setTimeout(m)};function n(a){this.a=p;this.b=void 0;this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}var p=2;function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d){d.call(b,function(b){c||q(a,b);c=!0},function(b){c||r(a,b);c=!0});return}}catch(e){c||r(a,e);return}a.a=0;a.b=b;v(a)}}
function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1;a.b=b;v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?"function"==typeof c?e(c.call(void 0,a.b)):e(a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}n.prototype.g=function(a){return this.c(void 0,a)};n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]);v(c)})};
function w(a){return new n(function(b,c){function d(c){return function(d){h[c]=d;e+=1;e==a.length&&b(h)}}var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(d(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})};window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g);}());

(function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function r(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
function t(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+b+";"}function y(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;y(a)&&a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);y(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var B=null,C=null,E=null,F=null;function G(){if(null===C)if(J()&&/Apple/.test(window.navigator.vendor)){var a=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);C=!!a&&603>parseInt(a[1],10)}else C=!1;return C}function J(){null===F&&(F=!!document.fonts);return F}
function K(){if(null===E){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}E=""!==a.style.font}return E}function L(a,b){return[a.style,a.weight,K()?a.stretch:"","100px",b].join(" ")}
A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",q=0,D=b||3E3,H=(new Date).getTime();return new Promise(function(a,b){if(J()&&!G()){var M=new Promise(function(a,b){function e(){(new Date).getTime()-H>=D?b():document.fonts.load(L(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),N=new Promise(function(a,c){q=setTimeout(c,D)});Promise.race([N,M]).then(function(){clearTimeout(q);a(c)},function(){b(c)})}else m(function(){function u(){var b;if(b=-1!=
f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==v&&g==v&&h==v||f==w&&g==w&&h==w||f==x&&g==x&&h==x)),b=!b;b&&(d.parentNode&&d.parentNode.removeChild(d),clearTimeout(q),a(c))}function I(){if((new Date).getTime()-H>=D)d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||void 0===a)f=e.a.offsetWidth,
g=n.a.offsetWidth,h=p.a.offsetWidth,u();q=setTimeout(I,50)}}var e=new r(k),n=new r(k),p=new r(k),f=-1,g=-1,h=-1,v=-1,w=-1,x=-1,d=document.createElement("div");d.dir="ltr";t(e,L(c,"sans-serif"));t(n,L(c,"serif"));t(p,L(c,"monospace"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);v=e.a.offsetWidth;w=n.a.offsetWidth;x=p.a.offsetWidth;I();z(e,function(a){f=a;u()});t(e,L(c,'"'+c.family+'",sans-serif'));z(n,function(a){g=a;u()});t(n,L(c,'"'+c.family+'",serif'));
z(p,function(a){h=a;u()});t(p,L(c,'"'+c.family+'",monospace'))})})};"object"===typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());

(function( w ){
if( w.document.documentElement.className.indexOf( "fonts-loaded" ) > -1 ){ return; }

var html = document.documentElement;
var FS500 = new w.FontFaceObserver("Fira Sans", { weight: 500 });

FS500.load().then(function() {
html.classList.add('fonts-loaded');
sessionStorage.fontsLoaded = true;
console.log('FS500-loaded');
}).catch(function () {
sessionStorage.fontsLoaded = false;
console.log('FS500-unloaded');
});

if (sessionStorage.fontsLoaded) {
html.classList.add('fonts-loaded');
}
}(this));
</script>
<script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/libs/jquery-1.8.3.min.js"></script>
<script>
  window.create_callback_for_blocked = function(key) {
    return function() {
      googletag.cmd.push(function () {
        googletag.display(key);
      });
    }
  }

  window.habr_blockers_checker = new function() {
    var result;
    var callbacksQueue = [];
    var calledOnce = false;

    function fireCallbacks() {
      callbacksQueue.forEach(function(callback) {
        callback(result);
      });
      callbacksQueue = [];
    }

    this.detect = function(imgUrl, callback) {
      var checksRemain = 2;
      var detected = false;
      var error1 = false;
      var error2 = false;

      if (typeof callback !== 'function') {
        return;
      };

      callbacksQueue.push(callback);

      if (typeof result !== 'undefined') {
        fireCallbacks();
      };

      if (calledOnce) {
        return;
      }
      calledOnce = true;

      imgUrl += '?ch=*&rn=*';

      function beforeCheck(timeout) {
        if (checksRemain === 0 || timeout > 1E3) {
          result = checksRemain === 0 && detected;
          fireCallbacks();
        } else {
          setTimeout(function() {
            beforeCheck(timeout * 2)
          }, timeout * 2);
        }
      }

      function checkImages() {
        if (--checksRemain) {
          return;
        };
        detected = !error1 && error2;
      }

      var random = Math.random() * 11;

      var img1 = new Image;
      img1.onload = checkImages;
      img1.onerror = function() {
        error1 = true;
        checkImages()
      };
      img1.src = imgUrl.replace(/\*/, 1).replace(/\*/, random);

      var img2 = new Image;
      img2.onload = checkImages;
      img2.onerror = function() {
        error2 = true;
        checkImages()
      };
      img2.src = imgUrl.replace(/\*/, 2).replace(/\*/, random);

      beforeCheck(250, callback)
    };

    this.detectWrapper = function(callback) {
      return this.detect('/images/px.gif', callback);
    };
  };

  window.display_dfp_slot = function(key) {
    if (window.habr_blockers_checker) {
      window.habr_blockers_checker.detectWrapper(window.create_callback_for_blocked(key));
    } else {
      window.create_callback_for_blocked(key)();
    }
  };
</script>


<script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/libs/raven.min.js"></script>
<script>Raven.config('https://830576edd4b7478086093f693a5a0df5@s.tmtm.ru/37').install()</script>

<script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/_parts/advertise.js"></script>
<script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/_parts/adriver.js"></script>
<script src="https://www.googletagservices.com/tag/js/gpt.js" async></script>
<script src="https://static.criteo.net/js/ld/publishertag.js" async></script>

<script>
  var googletag = googletag || {};
  googletag.cmd = googletag.cmd || [];
</script>

<script>
  // TODO: move this code to module
  //       move dot in chains to start of line and use one indent level:
  //               ```
  //                  start()
  //                    .chainEnd()
  //               ```
  function display_yandex_rtb(yandexId, divId) {
    $('#' + divId).show();
    (function(w, d, n, s, t) {
      w[n] = w[n] || [];
      w[n].push(function() {
        Ya.Context.AdvManager.render({
          blockId: yandexId,
          renderTo: divId,
          async: true
        });
      });
      t = d.getElementsByTagName('script')[0];
      s = d.createElement('script');
      s.type = 'text/javascript';
      s.src = '//an.yandex.ru/system/context.js';
      s.async = true;
      t.parentNode.insertBefore(s, t);
    })(this, this.document, 'yandexContextAsyncCallbacks');
  }

  function listen_googletag_and_render_yandex(yandexId, targetDivId) {
    if (!window.googletag || !window.googletag.cmd) {
      return;
    }
    window.googletag.cmd.push(function() {
      if (!window.googletag.pubads) {
        return;
      }

      window.googletag.pubads()
        .addEventListener('slotRenderEnded', function(event) {
          var divId = event.slot.getSlotElementId();
          if (divId === targetDivId && event.isEmpty) {
            window.display_yandex_rtb(yandexId, divId);
          }
        });
    });
  }

  function getRoxotGroupId() {
    try {
      var storageKey = 'roxot-gid';
      var groupId = localStorage.getItem(storageKey);
      if (groupId === null) {
        groupId = 1 + Math.floor(Math.random() * 10000);
        localStorage.setItem(storageKey, groupId);
      }
      return '' + groupId;
    }
    catch (e) {
      return '10001';
    }
  }

  function getRoxotSectorId() {
    try {
      var storageKey = 'roxot-sid';
      var groupId = localStorage.getItem(storageKey);
      if (groupId === null) {
        groupId = 1 + Math.floor(Math.random() * 100);
        localStorage.setItem(storageKey, groupId);
      }
      return '' + groupId;
    }
    catch (e) {
      return '101';
    }
  }

  function getRoxotDeep() {
    try {
      var storageKey = 'roxot-deep';
      var groupId = localStorage.getItem(storageKey);
      if (groupId === null) {
        groupId = 1 + Math.floor(Math.random() * 100);
        localStorage.setItem(storageKey, groupId);
      }
      return '' + groupId;
    }
    catch (e) {
      return '101';
    }
  }

  function getRoxotEvent() {
    return '' + (1 + Math.floor(Math.random() * 100));
  }
</script>

<script>
  function leftpad(str, len, ch) {
    str = String(str);

    var i = -1;

    if (!ch && ch !== 0) {
      ch = ' ';
    };

    len = len - str.length;

    while (++i < len) {
      str = ch + str;
    }

    return str;
  }

  var WEEK_DAYS = ['su', 'mo', 'tu', 'we', 'th', 'fr', 'sa'];

  function initializeDFP(usesABP) {
    var currentDate = new Date();
    var hours = currentDate.getHours();
    var hoursStr = leftpad(hours, 2, '0');
    var weekDayCode = WEEK_DAYS[currentDate.getDay()];
    googletag.cmd.push(function() {
      if (usesABP) {
  googletag.defineSlot('/235032688/HH/HH01_ATF_Poster', [[300, 500], [300, 250], [300, 300], [300, 400], [300, 200], [300, 100], [240, 400]], 'div-gpt-hh-atf').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-31', 'div-gpt-hh-atf');
} else {
  googletag.defineSlot('/235032688/HH/HH01_ATF_Poster', [[300, 500], [300, 600], [300, 250], [300, 300], [300, 400], [300, 200], [300, 150], [300, 100], [240, 400]], 'div-gpt-hh-atf').addService(googletag.pubads());
  window.listen_googletag_and_render_yandex('R-A-149298-35', 'div-gpt-hh-atf');
}

      googletag.pubads().enableSingleRequest();
      if (!usesABP) {
        googletag.pubads().disableInitialLoad(); //We will wait for the Criteo Bidder Call before calling the adserver
      }
      googletag.pubads().collapseEmptyDivs();
      googletag.pubads().
      setTargeting('roxot-group-id', getRoxotGroupId()).
      setTargeting('roxot-sector-id', getRoxotSectorId()).
      setTargeting('roxot-deep', getRoxotDeep()).
      setTargeting('roxot-event-group-id', getRoxotEvent()).
      setTargeting('roxot-event', getRoxotEvent()).
      setTargeting('roxot-event-deep', getRoxotEvent()).
      setTargeting('roxot-minutes', (new Date).getUTCMinutes().toString()).
      setTargeting('roxot-hours', (new Date).getUTCHours().toString()).
      setTargeting('roxot-day', (new Date).getUTCDay().toString()).
      setTargeting('chr', hoursStr).
      setTargeting('cwd', weekDayCode).
      setTargeting('aa', (usesABP) ? 'yes' : 'no').
      setTargeting('path', window.location.pathname + window.location.search).
      setTargeting('corp', ["startup"]).
      setTargeting('dev', [0]).
      setTargeting('user', ["guest","registered"]).
      setTargeting('pagetype', ["post","company"]).
      setTargeting('posttype', ["simple"]).
      setTargeting('postid', [430006]);
      googletag.enableServices();

      if (!usesABP) {
        window.Criteo = window.Criteo || {};
        window.Criteo.events = window.Criteo.events || [];
        var launchAdServer = function () {
          googletag.cmd.push(function () {
            Criteo.SetDFPKeyValueTargeting(); //This will append Criteo keywords to the adserver call
            googletag.pubads().refresh(); //This will trigger the adserver call
          });
        };
        Criteo.events.push(function () {
          var adUnits = {
            'placements': [
              {'slotid': 'div-gpt-hh-atf', 'zoneid': 1173489}, // TMTM - RU - CDB - SA - Habr - 300x600
            ]
          };
          // Define the price band range
          Criteo.SetLineItemRanges('0..599:1;600..1398:2;1400..3000:5');
          // Call Criteo and execute the callback function for a given timeout
          Criteo.RequestBids(adUnits, launchAdServer, 750);
        });
      }
    });
  }
  if (window.habr_blockers_checker) {
    window.habr_blockers_checker.detectWrapper(initializeDFP);
  } else {
    initializeDFP(false);
  }
</script>

<script type="text/javascript">
  function callGA(usesABP) {
    if (typeof window.adb1 === 'undefined') { window.adb1 = 'yes';}
    if (usesABP) { window.adb1 = 'aa'; }

    var user_type = 'guest';

    var page_type = "publish_corp";

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-726094-1',  'auto');
        ga('create', 'UA-726094-24', 'auto', {'name': 'HGM'});


    ga('require', 'displayfeatures');
    ga('set', 'dimension1', user_type); // user type - guest/readonly/habrauser
    ga('set', 'dimension3', 'na');
    ga('set', 'dimension2', page_type);
    ga('set', 'dimension4', window.adb1);


    (function() {
      var removeUtms = function(){
        var location = window.location;
        if (location.search.indexOf('utm_') != -1 && history.replaceState) {
          var currentUrl = location.toString();
          var strippedUrl = currentUrl.replace(/\?([^#]*)/, function(_, search) {
            var result = search.split('&').map(function(param) {
              if (/^utm_/.test(param)) {
                return '';
              }
              return param;
            }).filter(Boolean).join('&');
            return result ? '?' + result : '';
          });

          history.replaceState({}, '', strippedUrl);
        }
      };
      ga('require', 'GTM-559GVC8');
      ga('send', 'pageview', { 'hitCallback': removeUtms });
    })();

    ga('HGM.set', 'dimension1', user_type);
    ga('HGM.set', 'dimension2', "habrahabr");
    ga('HGM.set', 'dimension4', window.adb1);

    ga('HGM.send', 'pageview');
  }


  if (window.habr_blockers_checker) {
    window.habr_blockers_checker.detectWrapper(callGA);
  } else {
    callGA(false)
  }

</script>


  </head>

  <body class="nl">

    <div class="layout">
      <div class="layout__row layout__row_services">
        <div id="TMpanel">
  <div class="container">
    <div class="bmenu">
      <a href="https://habr.com?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo" class="current">Хабр</a>
      <a href="https://habr.com/flows/geektimes/">Geektimes</a>
      <a href="https://toster.ru?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Тостер</a>
      <a href="https://moikrug.ru?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Мой круг</a>
      <a href="https://freelansim.ru?utm_source=tm_habrahabr&utm_medium=tm_top_panel&utm_campaign=tm_promo">Фрилансим</a>
    </div>
      <div class="bmenu_inner" style="display:inline-block!important;visibility:visible!important;">
        <span class="bmenu__label">Мегапосты:</span>
        <span class="bmenu slink"></span>
      </div>
  </div>
</div>

      </div>

      <div class="layout__row layout__row_navbar">
        <div class="layout__cell">
          <div class="main-navbar">
  <div class="main-navbar__section main-navbar__section_left">
    <span class="logo-wrapper">
      <a href="/" class="logo" title="">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon-svg icon-svg_logo-habrahabr" width="71" height="26" viewBox="0 0 92 32"><path d="M6.827 12.278c1.273-1.735 3.304-2.848 5.595-2.848l.521.019-.023-.001c4.272 0 7.587 2.988 7.587 7.941v14.047h-6.827v-11.636c0-2.529-1.31-3.931-3.381-3.931-1.9 0-3.473 1.31-3.473 4.062v11.505h-6.827v-31.45h6.827zM46.611 31.437h-6.552v-2.319c-1.357 1.764-3.468 2.89-5.843 2.89l-.332-.007.016.001c-5.713 0-9.946-4.98-9.946-11.296s4.233-11.256 9.972-11.256l.288-.006c2.378 0 4.491 1.131 5.832 2.884l.013.018v-2.306h6.552zm-15.725-10.72c0 2.533 2.053 4.586 4.586 4.586s4.586-2.053 4.586-4.586c0-2.533-2.053-4.586-4.586-4.586s-4.586 2.053-4.586 4.586zM73.959 20.704c0 6.316-4.246 11.296-9.959 11.296l-.342.008c-2.354 0-4.446-1.116-5.778-2.848l-.013-.017v2.293h-6.552v-31.45h6.814v12.095c1.343-1.61 3.351-2.628 5.596-2.628l.329.007-.016-.001c5.674-.013 9.92 4.94 9.92 11.243zm-16.157 0c0 2.533 2.053 4.586 4.586 4.586s4.586-2.053 4.586-4.586c0-2.533-2.053-4.586-4.586-4.586s-4.586 2.053-4.586 4.586zM92.318 9.776l-.59 6.801c-1.019-.342-2.193-.547-3.412-.563h-.008c-.15-.023-.323-.036-.498-.036-1.911 0-3.459 1.549-3.459 3.459 0 .151.01.3.029.447l-.002-.017v11.571h-6.84v-21.399h6.552v2.464c1.124-1.85 3.128-3.068 5.417-3.068l.448.016-.02-.001h.022c.842 0 1.655.12 2.425.343l-.061-.015z"/></svg>

      </a>
      
    </span>
    <ul class="nav-links" id="navbar-links">
  <li class="nav-links__item">
    <a href="/" class="nav-links__item-link ">Публикации</a>
  </li>
  <li class="nav-links__item">
    <a href="/users/" class="nav-links__item-link ">Пользователи</a>
  </li>
  <li class="nav-links__item">
    <a href="/hubs/" class="nav-links__item-link ">Хабы</a>
  </li>
  <li class="nav-links__item">
    <a href="/companies/" class="nav-links__item-link ">Компании</a>
  </li>
  <li class="nav-links__item">
    <a href="/sandbox/" class="nav-links__item-link ">Песочница</a>
  </li>
</ul>

    <form action="/search/#h" method="get" class="search-form" id="search-form">
  <button type="button" class="btn btn_navbar_search icon-svg_search" id="search-form-btn" title="Поиск по сайту">
    <svg class="icon-svg" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M21.416 13.21c0 4.6-3.65 8.34-8.14 8.34S5.11 17.81 5.11 13.21c0-4.632 3.65-8.373 8.167-8.373 4.488 0 8.14 3.772 8.14 8.372zm1.945 7.083c1.407-2.055 2.155-4.57 2.155-7.084C25.515 6.277 20.04.665 13.277.665S1.04 6.278 1.04 13.21c0 6.93 5.475 12.542 12.237 12.542 2.454 0 4.907-.797 6.942-2.208l7.6 7.79 3.14-3.22-7.6-7.82z"/></svg>
  </button>
  <label class="search-form__field-wrapper">
    <input type="text" name="q" class="search-form__field" id="search-form-field" placeholder="Поиск" tabindex="-1"/>
    <button type="button" class="btn btn_search-close" id="search-form-clear" title="Закрыть">
      <svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"/></svg>

    </button>
  </label>
</form>

  </div>

  <div class="main-navbar__section main-navbar__section_right">
      <a href="https://habr.com/auth/login/" id="login" class="btn btn_medium btn_navbar_login">Войти</a>
      <a href="https://habr.com/auth/register/" class="btn btn_medium btn_navbar_registration">Регистрация</a>


  </div>
</div>

        </div>
      </div>

      <div class="layout__row layout__row_body">
        <div class="layout__cell layout__cell_body">
          
            
  
  
  
    <div class="page-header_bordered page-header_tall">
      <div class="page-header page-header_full" id="company_4668">
  <div class="page-header_wrapper">
    <div class="media-obj media-obj_page-header">
        <a href="/company/ods/" class="media-obj__image page-header__image">
            <img src="//habrastorage.org/getpro/habr/company/1eb/85e/b87/1eb85eb876141db44f73d50f01c7e16d.png" width="48" height="48" class="company-info__image-pic"/>
        </a>

      <div class="media-obj__body media-obj__body_page-header">
         <div class="page-header__stats">
          <div class="page-header__stats-value">257,00</div>
          <div class="page-header__stats-label" title="Хабраиндекс - абстрактный показатель популярности компании на Хабре">Рейтинг</div>
        </div>
      </div>
    </div>

  </div>

  <div class="page-header__info">
    <h1 class="page-header__info-title">Open Data Science</h1>
    <h2 class="page-header__info-desc">
      Крупнейшее русскоязычное Data Science сообщество
    </h2>
  </div>
</div>

    </div>

  <div class="column-wrapper js-sticky-wrapper">
    <div class="content_left js-content_left">
      <div class="company_post">
        
    <article class="post post_full" id="post_430006">
  <div class="post__wrapper">
    <header class="post__meta">
      <a href="https://habr.com/users/PlayItToDeath/" class="post__user-info user-info" title="Автор публикации">
          <span class="default-image_mini default-image_lilac">
            <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"/></svg>
          </span>
        <span class="user-info__nickname user-info__nickname_small">PlayItToDeath</span>
      </a>

      <span class="post__time">22 ноября 2018 в 14:15</span>

      
    </header>

    <h1 class="post__title post__title_full">
      <span class="post__title-text">Data Science проект от исследования до внедрения на примере Говорящей шляпы</span>
    </h1>


      <ul class="post__hubs post__hubs_full-post inline-list">
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habr.com/company/ods/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === 'function') { ga('send', 'event', 'hub', 'post page', 'Блог компании Open Data Science'); }">Блог компании Open Data Science</a>, 
          </li>
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habr.com/hub/data_mining/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === 'function') { ga('send', 'event', 'hub', 'post page', 'Data Mining'); }">Data Mining</a>, 
          </li>
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habr.com/hub/python/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === 'function') { ga('send', 'event', 'hub', 'post page', 'Python'); }">Python</a>, 
          </li>
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habr.com/hub/artificial_intelligence/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === 'function') { ga('send', 'event', 'hub', 'post page', 'Искусственный интеллект'); }">Искусственный интеллект</a>, 
          </li>
          <li class="inline-list__item inline-list__item_hub">
            <a href="https://habr.com/hub/machine_learning/" class="inline-list__item-link hub-link " title="Вы не подписаны на этот хаб" onclick="if (typeof ga === 'function') { ga('send', 'event', 'hub', 'post page', 'Машинное обучение'); }">Машинное обучение</a>
          </li>
      </ul>

    <ul class="post__marks inline-list"></ul>

    <div class="post__body post__body_full">
      <div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/4h/il/lk/4hillkjrgatenqqix3nypmyn8vm.png"></p><br>
<p>Месяц назад Лента запустила <a href="https://harrypotter.lenta.com">конкурс</a>, в рамках которого та самая <a href="https://www.youtube.com/watch?v=TDG3LJJ2Br0&amp;vl=ru">Говорящая Шляпа</a> из Гарри Поттера определяет предоставивших доступ к социальной сети участников на один из четырех факультетов. Конкурс сделан неплохо, звучащие по-разному имена определяются на разные факультеты, причем схожие английские и русские имена и фамилии распределяются схожим образом. Не знаю, зависит ли распределение только от имен и фамилий, и учитывается ли как-то количество друзей или другие факторы, но этот конкурс подсказал идею этой статьи: попробовать с нуля обучить классификатор, который позволит распределять пользователей на различные факультеты.</p><a name="habracut"></a><br>
<p>В статье мы сделаем простую ML-модель, которая распределяет людей на факультеты Гарри Поттера в зависимости от их имени и фамилии, пройдя процесс небольшого исследования следуя методологии <a href="https://en.wikipedia.org/wiki/Cross-industry_standard_process_for_data_mining">CRISP</a>. А именно мы:</p><br>
<ul>
<li>Сформулируем задачу;</li>
<li>Исследуем возможные подходы к ее решению и сформулируем требования к данным (Методы решения и данные) ;</li>
<li>Соберем необходимые данные (Методы решения и данные);</li>
<li>Изучим собранный датасет (Exploratory Research);</li>
<li>Извлечем признаки из сырых данных (Feature Engineering);</li>
<li>Обучим модель машинного обучения (Model evaluation);</li>
<li>Сравним полученные результаты, оценим качество полученных решений и при необходимости повторим пункты 2-6;</li>
<li>Упакуем решение в сервис, который можно будет использовать (Продакшн).</li>
</ul><br>
<p><img src="https://habrastorage.org/webt/6l/pf/oa/6lpfoa17u8pxjkf7wke7pm19-h0.png"></p><br>
<p>Эта задача может показаться тривиальной, поэтому мы наложим дополнительное ограничение на весь процесс (чтобы он занял менее 2 часов) и на эту статью (чтобы время ее чтения составило меньше 15 минут). </p><br>
<p>Если вы уже погружены в прекрасный и чудесный мир Data Science и постоянно Кэгглите пока никто не видит, или (упаси бог) любите во время встреч с коллегами померяться длиной своего Хадупа, то скорее всего статья покажется вам простой и неинтересной. Более того: качество итоговых моделей — не главная ценность этой статьи. Мы вас предупредили. Поехали.</p><br>
<p>Для любопытных читателей также доступен <a href="https://github.com/Hiyorimi/talking_hat">гитхаб-репозиторий</a> с кодом, использованным в статье. В случае обнаружения ошибок, убедительная просьба открывать PR.</p><br>
<h2 id="formuliruem-zadachu">Формулируем задачу</h2><br>
<p>Решать задачу, которая не имеет четких критериев решения можно бесконечно долго, поэтому сразу определимся, что мы хотим получить решение, которое позволило бы получить ответ «Гриффиндор», «Когтевран», «Пуффендуй» или «Слизерин» в ответ на введеную строку.</p><br>
<p>По сути дела, мы хотим получить черный ящик:</p><br>
<pre><code class="plaintext">"Гарри поттер" =&gt; [?] =&gt; Griffindor</code></pre><br>
<p>Оригинальная чёрная шляпа распределяла юных волшебников по факультетам в зависимости от их характера и личных качеств. Поскольку данные о характере и личности по условию задачи нам не доступны, мы будем использовать имя и фамилию участника, помня что при этом мы должны распределять персонажей книги по тем факультетам, которые соответствуют их родным факультетам из книги. Да и поттероманы точно расстроятся, если наше решение распределит Гарри на Пуффендуй или Когтевран (а вот на Гриффиндор и Слизерин оно должно отправлять Гарри с одинаковой вероятностью, чтобы передать дух книги).</p><br>
<p>Раз уж речь зашла про вероятности, то формализуем задачу в более строгих математических терминах. С точки зрения Data Science, мы решаем задачу классификации, а именно назначения объекту (строке, в виде имени и фамилии) некоторого класса (по факту это просто ярлык, или метка, которая может быть цифрой или 4 переменными, которые имеют значение да/нет). Мы понимаем, что как минимум в случае Гарри будет корректным давать 2 ответа: Гриффиндор и Слизерин, поэтому лучше будет предсказывать не конкретный факультет, на который определяет шляпа, а вероятность того, что человек будет распределен на этот факультет, поэтому наше решение будет иметь в вид некоторой функции</p><br>
<p></p><p><math><img src="https://habrastorage.org/getpro/habr/formulas/e83/a2b/a81/e83a2ba8190f74f5a8a3a18ee11bf671.svg" alt="$ f ( &lt; Имя &gt; &lt; Фамилия &gt; ) = (P_{griffindor}; P_{ravenclaw}; P_{hufflpuff}; P_{slitherin})$" data-tex="display"></math></p><br>
<h3 id="metriki-i-ocenka-kachestva">Метрики и оценка качества</h3><br>
<p>Задача и цель сформулированы, <del>теперь будем думать как же ее решать</del>, но это еще не всё. Для того, чтобы приступить к исследованию, нужно ввести метрики качества. Иными словами — определить как мы будем сравнивать 2 разных решения между собой.</p><br>
<p>В жизни все хорошо и просто — мы интуитивно понимаем, что детектор спама должен пропускать минимум спама во входящие, а также пропускать максимум нужных писем и он уж точно не дожен отправлять в спам нужные письма. </p><br>
<p>В реальности все сложнее и подтверждением <a href="https://towardsdatascience.com/understanding-auc-roc-curve-68b2303cc9c5">этому</a> <a href="https://medium.com/greyatom/performance-metrics-for-classification-problems-in-machine-learning-part-i-b085d432082b">большое</a> <a href="https://apple.github.io/turicreate/docs/userguide/evaluation/classification.html">количество</a> <a href="https://ru.wikipedia.org/wiki/%D0%9E%D1%88%D0%B8%D0%B1%D0%BA%D0%B8_%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%B3%D0%BE_%D0%B8_%D0%B2%D1%82%D0%BE%D1%80%D0%BE%D0%B3%D0%BE_%D1%80%D0%BE%D0%B4%D0%B0_(%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%81%D1%82%D0%B8%D0%BA%D0%B0)">статей</a>, которые объясняют, как и какие метрики используются. Лучше всего понять это помогает практика, но это настолько объёмная тема, что мы пообещаем написать про это отдельный пост и сделать открытую таблицу, чтобы каждый мог поиграться и понять на практике, как это отличается.</p><br>
<p>Бытовое «а давайте выбирать самый лучший» для нас будет <a href="https://developers.google.com/machine-learning/crash-course/classification/roc-and-auc">ROC AUC</a>. Это именно то, что мы хотим от метрики в данном случае: чем меньше ложных срабатываний и чем точнее фактическое предсказание, тем больше будет ROC AUC.</p><br>
<p>У идеальной модели ROC AUC равен 1, у идеальной случайной модели, которая определяет классы <em>абсолютно случайно</em> — 0.5.</p><br>
<p></p><p><math><img src="https://habrastorage.org/getpro/habr/formulas/0b4/7aa/405/0b47aa4052f3e1bc9c7f1f486b959fee.svg" alt="$ROC\ AUC \in [0.5;1]$" data-tex="display"></math></p><br>
<h2 id="algoritmy">Алгоритмы</h2><br>
<p>Наш черный ящик должен учитывать распределение героев книг, принимать на вход различные имя и фамилию и выдавать результат. Для решения задачи классификации можно использовать разные алгоритмы машинного обучения: </p><br>
<p>нейронные сети, факторизационные машины, линейную регрессию или, например, SVM.</p><br>
<p>Вопреки популярному мнению, Data Science не ограничивается одними нейросетями, и для популяризации этой мысли, в данной статье нейронные сети оставлены <em>в качестве упражнения любопытному читателю</em>. Те, кто не проходил ни одного курса по анализу данных (особенно, субъективно <a href="https://mlcourse.ai">лучшего</a> — от ОДС), или просто читали <em>n</em> новостей про машинное обучение или ИИ, которые сейчас выходят даже в журналах «Рыболов-любитель», наверняка встречали названия общих групп алгоритмов: бэггинг, бустинг, метод опорных векторов (SVM), линейная регрессия. Именно их мы и будем использовать для решения нашей задачи. </p><br>
<p>А если быть более точными, мы сравним между собой:</p><br>
<ul>
<li>Линейную регрессию</li>
<li>Бустинг (XGboost, LightGBM)</li>
<li>Решаюшие деревья (строго говоря, это тот же бустинг, но вынесем отдельно: Extra Trees)</li>
<li>Бэггинг (Random Forest)</li>
<li>SVM</li>
</ul><br>
<p>Задачу распределения каждого студента Хогвартса на один из факультетов мы можем решить определяя соотвествующий ему факультет, но строго говоря эта задача <a href="https://en.wikipedia.org/wiki/Multiclass_classification">сводится</a> к решению задачи определения принадлежности каждому классу по-отдельности. Поэтому в рамках данной статьи мы ставим себе цель получить 4 модели, по одной для каждого факультета. </p><br>
<h2 id="dannye">Данные</h2><br>
<p>Поиск корректного датасета для обучения, а что еще более важно — легального для использования в нужных целях — одна из наиболее сложных и трудоёмких задач в Data Science. Для нашей задачи данные мы возьмем из <a href="http://harrypotter.wikia.com/">wikia</a> по миру Гарри Поттера. Например по этой ссылке можно найти всех персонажей, которые учились на факультете Гриффиндора. Важно, что данные в этом случае мы используем в некоммерческих целях, поэтому мы не нарушаем <a href="http://www.wikia.com/Licensing">лицензию</a> этого сайта. </p><br>
<p><img src="https://habrastorage.org/webt/ff/f8/4e/fff84efaafg_yqwbhuhbfyz17k0.jpeg"></p><br>
<p>Для тех, кто думает, что Data Scientists вот такие классные ребята, пойду в Data Scientists, пусть меня научат, мы напомним, что существует такой шаг, как очистка и подготовка данных. Скачанные данные нужно вручную отмодерировать, чтобы удалить, например, «Седьмого Префекта Гриффиндора» и полуавтоматически удалить «Неизвестной девушки из Гриффиндора». В реальной работе пропорционально большая часть задачи всегда связана с подготовкой, очисткой и восстановлением пропущенных значений в датасете.</p><br>
<p>Немного ctrl+c &amp; ctrl+v и на выходе мы получим 4 текстовых файла, в которых находятся имена персонажей на 2 языках: английском и русском. </p><br>
<h2 id="izuchaem-sobrannye-dannye--eda-exploratory-data-analysis">Изучаем собранные данные ( EDA, Exploratory Data Analysis)</h2><br>
<p>К этому этапу у нас есть 4 файла, содержащие имена учеников факультетов, посмотрим более детально:</p><br>
<pre><code class="bash">$ ls ../input
griffindor.txt hufflpuff.txt  ravenclaw.txt  slitherin.txt</code></pre><br>
<p>Каждый файл содержит по 1 имени и фамилии (если она имеется) ученика на строчку:</p><br>
<pre><code class="bash">$ wc -l ../input/*.txt

     250 ../input/griffindor.txt
     167 ../input/hufflpuff.txt
     180 ../input/ravenclaw.txt
     254 ../input/slitherin.txt
     851 total</code></pre><br>
<p>Собранные данные имеют вид:</p><br>
<pre><code class="bash">$ cat ../input/griffindor.txt | head -3 &amp;&amp; cat ../input/griffindor.txt | tail -3
Юан Аберкромби
Кэти Белл
Бем
Charlie Stainforth
Melanie Stanmore
Stewart</code></pre><br>
<p>Вся наша задумка строится на предположении, что в именах и фамилиях есть что-то схожее, что наша черная коробка (или чёрная шляпа ) может научиться различать.</p><br>
<p>Алгоритму можно скормить строки как есть, но результат не будет хорошим, потому что базовые модели не смогут самостоятельно понять, чем “Драко” отличается от “Гарри”, поэтому из наших имен и фамилий нужно будет извлечь признаки. </p><br>
<h3 id="podgotovka-dannyh-feature-engineering">Подготовка данных (Feature Engineering)</h3><br>
<p><strong>Признаки</strong> (или фичи, от <em>англ.</em> <strong>feature</strong> — свойство) — это отличительные свойства объекта. Количество раз, которое человек менял работу за последний год, число пальцев на левой руке, объем двигателя автомобиля, превосходит ли пробег машины 100 000 км или нет. Всевозможных классификаций признаков придумано очень большое количество, какой-то единой системы в этом плане нет и быть не может, поэтому приведем примеры, какими могут быть признаки:</p><br>
<ol>
<li>Рациональным числом</li>
<li>Категорией (до 12, 12-18 или 18+)</li>
<li>Бинарным значением (Вернул первый кредит или нет)</li>
<li>Датой, цветом, долей, итд.</li>
</ol><br>
<p><strong>Поиск</strong> (или формирование) <strong>признаков</strong> (на <em>англ</em> <a href="https://towardsdatascience.com/understanding-feature-engineering-part-1-continuous-numeric-data-da4e47099a7b">Feature Engineering</a>) очень часто выделяется в отдельный этап исследования или работы специалиста по анализу данных. По факту в самом процессе помогает здравый смысл, опыт и проверка гипотез в деле. Угадать нужные признаки сразу — вопрос комбинации набитой руки, фундаментальных знаний и везения. Иногда в этом есть шаманство, но общий подход очень простой: нужно делать то, что приходит в голову, а потом проверять, получилось ли улучшить решение за счет добавления нового признака. Например, в качестве признака для нашей задачи мы можем брать количество шипящих в имени.</p><br>
<p>В первой версии (потому что настоящее Data Science исследование — как шедевр, никогда не может быть окончено) нашей модели мы будем использовать следующие признаки для имени и фамилии:</p><br>
<ol>
<li>1 и последняя буквы слова — гласная или согласная</li>
<li>Количество удвоенных гласных и согласных </li>
<li>Количество гласных, согласных, глухих, звонких</li>
<li>Длина имени, длина фамилии</li>
<li>...</li>
</ol><br>
<p>Для этого за основу мы возьмем вот <a href="https://github.com/NyashniyVladya/RusPhonetic">этот</a> репозиторий и допишем класс для того, чтобы его можно было использовать для латинских букв. Это даст нам возможность определять, как звучит каждая буква.</p><br>
<pre><code class="python">&gt;&gt; from Phonetic import RussianLetter, EnglishLetter
&gt;&gt; RussianLetter('р').classify()
{'consonant': True,
 'deaf': False,
 'hard': False,
 'mark': False,
 'paired': False,
 'shock': False,
 'soft': False,
 'sonorus': True,
 'vowel': False}
&gt;&gt; EnglishLetter('d').classify()
{'consonant': True,
 'deaf': False,
 'hard': True,
 'mark': False,
 'paired': False,
 'shock': False,
 'soft': False,
 'sonorus': True,
 'vowel': False}</code></pre><br>
<p>Теперь мы можем определить простые функции для подсчета статистик, например:</p><br>
<pre><code class="python">def starts_with_letter(word, letter_type='vowel'):
    """
    Проверяет тип буквы, с которой начинается слово.
    :param word: слово
    :param letter_type: 'vowel' или 'consonant'. Гласная или согласная.
    :return: Boolean
    """
    if len(word) == 0:
        return False
    return Letter(word[0]).classify()[letter_type]

def count_letter_type(word):
    """
    Подсчитывает число букв разного типа в слове.
    :param word: слово
    :param debug: флаг для дебага
    :return: :obj:`dict` of :obj:`str` =&gt; :int:count
    """
    count = {
         'consonant': 0,
         'deaf': 0,
         'hard': 0,
         'mark': 0,
         'paired': 0,
         'shock': 0,
         'soft': 0,
         'sonorus': 0,
         'vowel': 0
    }
    for letter in word:
        classes = Letter(letter).classify()
        for key in count.keys():
            if classes[key]:
                count[key] += 1
    return count</code></pre><br>
<p>С помощью этих функций мы можем получить уже первые признаки:</p><br>
<pre><code class="python">from feature_engineering import *

&gt;&gt; print("Длина имени («Гарри»): ", len("Гарри"))
Длина имени («Гарри»):  5
&gt;&gt; print("Имя («Гарри») начинается с гласной: ", 
      starts_with_letter('Аптека', 'vowel'))
Имя («Гарри») начинается с гласной:  True
&gt;&gt; print("Фамилия («Поттер») начинается с согласной: ", 
      starts_with_letter('Гарри', 'consonant'))
Фамилия («Поттер») начинается с согласной:  True
&gt;&gt; count_Harry = count_letter_type("Гарри")
&gt;&gt; print ("Количество удвоенных согласных в имени («Гарри»): ", count_Harry['paired'])
Количество удвоенных согласных в имени («Гарри»):  1</code></pre><br>
<p>Строго говоря, с помощью этих функций мы можем получить некоторое векторное представление строки, то есть мы получаем отображение:</p><br>
<p></p><p><math><img src="https://habrastorage.org/getpro/habr/formulas/231/683/e71/231683e71fc82d79c49a0aa3bc0e40e7.svg" alt="$f ( &lt; Имя &gt; &lt; Фамилия &gt; ) =&gt; (длина_{имени}, длина_{фамилии}, ..., количество\_гласных_{фамилии})$" data-tex="display"></math></p><br>
<p>Теперь мы можем представить наши данные в виде датасета, который можно подать на вход алгоритму машинного обучения:</p><br>
<pre><code class="python">&gt;&gt; from data_loaders import load_processed_data

&gt;&gt; hogwarts_df = load_processed_data()

&gt;&gt; hogwarts_df.head()</code></pre><br>
<p><img src="https://habrastorage.org/webt/5-/-e/4g/5--e4gvhmdhe00fxjhwqnxzdajk.png"></p><br>
<p>При этом в результате мы получаем следующие признаки для каждого студента:</p><br>
<pre><code class="python">&gt;&gt; hogwarts_df[hogwarts_df.columns].dtypes</code></pre><br>
<div class="spoiler"><b class="spoiler_title">Полученные признаки</b><div class="spoiler_text"><pre><code class="plaintext">name                              object
surname                           object
is_english                          bool
name_starts_with_vowel              bool
name_starts_with_consonant          bool
name_ends_with_vowel                bool
name_ends_with_consonant            bool
name_length                        int64
name_vowels_count                  int64
name_double_vowels_count           int64
name_consonant_count               int64
name_double_consonant_count        int64
name_paired_count                  int64
name_deaf_count                    int64
name_sonorus_count                 int64
surname_starts_with_vowel           bool
surname_starts_with_consonant       bool
surname_ends_with_vowel             bool
surname_ends_with_consonant         bool
surname_length                     int64
surname_vowels_count               int64
surname_double_vowels_count        int64
surname_consonant_count            int64
surname_double_consonant_count     int64
surname_paired_count               int64
surname_deaf_count                 int64
surname_sonorus_count              int64
is_griffindor                      int64
is_hufflpuff                       int64
is_ravenclaw                       int64
is_slitherin                       int64
dtype: object</code></pre></div></div><br>
<p>Последние 4 колонки являются целевыми — они содержат информацию, на какой факультет зачислен студент.</p><br>
<h2 id="obuchenie-algoritmov">Обучение алгоритмов</h2><br>
<p>В двух словах, алгоритмы обучаются также, как и люди: совершают ошибки и учатся на них. Для того, чтобы понять, насколько сильно они ошиблись, алгоритмы используют <strong>функции ошибок</strong> (функции потерь, <em>англ</em>. <strong>loss-function</strong>). </p><br>
<p>Как правило, процесс обучения очень прост и он состоит из нескольких шагов:</p><br>
<ol>
<li>Сделать предсказание.</li>
<li>Оценить ошибку.</li>
<li>Внести поправку в параметры модели.</li>
<li>Повторять 1-3, пока не будет достигнута цель, не остановится процесс или не закончатся данные.</li>
<li><p>Оценить качество полученной модели.</p><br>
<p>На практике, конечно же, все немного сложнее. Например, есть явление <strong>переобучения</strong> (<em>англ</em> overfitting) — алгоритм может буквально запомнить, какие признаки соотвествуют ответу и таким образом, ухудшить результат для объектов, которые не похожи на те, на которых он обучался. Чтобы этого избежать есть различные методики и хаки. </p><br>
</li>
</ol><br>
<p>Как уже было сказано выше, мы будем решать 4 задачи: по одной на каждый факультет. Поэтому подготовим данные для Слизерина:</p><br>
<pre><code class="python"># Копируем данные, чтобы случайно не потерять что-нибудь нужное:
&gt;&gt; data_full = hogwarts_df.drop(
    [
    'name', 
    'surname',
    'is_griffindor',
    'is_hufflpuff',
    'is_ravenclaw'
    ], 
    axis=1).copy()
# Берем данные для обучения, сбросив целевую колонку:
&gt;&gt; X_data = data_full.drop('is_slitherin', axis=1)
# В качестве целевой будет колонка, которая содержит 1 для учеников Слизерина
&gt;&gt; y = data_full.is_slitherin</code></pre><br>
<p>Обучаясь, алгоритм постоянно сравнивает свои результаты с настоящими данными, для этого часть датасета выделяется под валидацию. Правилом хорошего тона считается также оценивать результату работы алгоритма на отдельных данных, которые алгоритм вообще не видел. Поэтому сейчас мы разделим выборку в пропорции 70/30 и обучим первый алгоритм:</p><br>
<pre><code class="python">from sklearn.cross_validation import train_test_split
from sklearn.ensemble import RandomForestClassifier

# Фиксируем сид для воспроизводимоси результата
&gt;&gt; seed = 7
# Пропорции разделения датасета
&gt;&gt; test_size = 0.3
&gt;&gt; X_train, X_test, y_train, y_test = train_test_split(X_data, y, test_size=test_size, random_state=seed)

&gt;&gt; rfc = RandomForestClassifier()
&gt;&gt; rfc_model = rfc.fit(X_train, y_train)</code></pre><br>
<p>Готово. Теперь, если подать данные на вход этой модели, она выдаст результат. Это – весело, поэтому в первую очередь мы проверим, на признает ли модель в Гарри слизеринца. Для этого сначала подготовим функции для того, чтобы получить предсказание алгоритма:</p><br>
<div class="spoiler"><b class="spoiler_title">Посмотреть код</b><div class="spoiler_text"><pre><code class="python">from data_loaders import parse_line_to_hogwarts_df
import pandas as pd

def get_single_student_features (name):
    """
    Возвращает признаки для переданного имени
    :param name: string для имени и фамилии
    :return: pd.DataFrame объект с готовыми признаками
    """
    featurized_person_df = parse_line_to_hogwarts_df(name)

    person_df = pd.DataFrame(featurized_person_df,
        columns=[
         'name', 
         'surname', 
         'is_english',
         'name_starts_with_vowel', 
         'name_starts_with_consonant',
         'name_ends_with_vowel', 
         'name_ends_with_consonant',
         'name_length', 
         'name_vowels_count',
         'name_double_vowels_count',
         'name_consonant_count',
         'name_double_consonant_count',
         'name_paired_count',
         'name_deaf_count',
         'name_sonorus_count',
         'surname_starts_with_vowel', 
         'surname_starts_with_consonant',
         'surname_ends_with_vowel', 
         'surname_ends_with_consonant',
         'surname_length', 
         'surname_vowels_count',
         'surname_double_vowels_count',
         'surname_consonant_count',
         'surname_double_consonant_count',
         'surname_paired_count',
         'surname_deaf_count',
         'surname_sonorus_count',
        ],
                             index=[0]
    )
    featurized_person = person_df.drop(
                        ['name', 'surname'], axis = 1
                        )
    return featurized_person

def get_predictions_vector (model, person):
    """
    Предсказывает вероятности классов 
    :param model: обученная модель
    :param person: string полного имени
    :return: list вероятностей принадлежности классу
    """
    encoded_person = get_single_student_features(person)
    return model.predict_proba(encoded_person)[0]</code></pre></div></div><br>
<p>А теперь зададим маленький тестовый набор данных, чтобы рассмотреть результаты работы алгоритма.</p><br>
<pre><code class="python">def score_testing_dataset (model):
    """
    Предсказывает результат на искусственном наборе данных.
    :param model: обученная модель
    """
    testing_dataset = [
            "Кирилл Малев", "Kirill Malev",
            "Гарри Поттер", "Harry Potter", 
            "Северус Снейп", "Северус Снегг","Severus Snape",
            "Том Реддл", "Tom Riddle", 
            "Салазар Слизерин", "Salazar Slytherin"]

    for name in testing_dataset: 
        print ("{} — {}".format(name, get_predictions_vector(model, name)[1]))

score_testing_dataset(rfc_model)</code></pre><br>
<pre><code class="plaintext">Кирилл Малев — 0.5
Kirill Malev — 0.5
Гарри Поттер — 0.0
Harry Potter — 0.0
Северус Снейп — 0.75
Северус Снегг — 0.9
Severus Snape — 0.5
Том Реддл — 0.2
Tom Riddle — 0.5
Салазар Слизерин — 0.2
Salazar Slytherin — 0.3</code></pre><br>
<p>Результаты получились сомнительные. Даже основатель факультета не попал бы на свой факультет, согласно мнению этой модели. Поэтому нужно оценить строгое качество: посмотреть на метрики, которые мы задали в начале:</p><br>
<pre><code class="python">from sklearn.metrics import accuracy_score, roc_auc_score, classification_report
predictions = rfc_model.predict(X_test)
print("Classification report: ")
print(classification_report(y_test, predictions))
print("Accuracy for Random Forest Model: %.2f" 
          % (accuracy_score(y_test, predictions) * 100))
print("ROC AUC from first Random Forest Model: %.2f"
             % (roc_auc_score(y_test, predictions)))</code></pre><br>
<pre><code class="plaintext">Classification report: 
             precision    recall  f1-score   support

          0       0.66      0.88      0.75       168
          1       0.38      0.15      0.21        89

avg / total       0.56      0.62      0.56       257

Accuracy for Random Forest Model: 62.26
ROC AUC from first Random Forest Model: 0.51</code></pre><br>
<p>Неудивительно, что результаты получились такими сомнительными — ROC AUC около 0.51 говорит о том, что модель предсказывает незначительно лучше, чем бросок монеты.</p><br>
<h2 id="testirovanie-poluchennyh-rezultatov-metriki-kachestva">Тестирование полученных результатов. Метрики качества</h2><br>
<p>Выше на одном примере мы рассмотрели, как обучается 1 алгоритм, поддерживающий интерфейсы sklearn. Остальные обучаются абсолютно похожим образом, поэтому нам остается только обучить все алгоритмы и выбрать в каждом случае наилучший.</p><br>
<p><img src="https://habrastorage.org/webt/ff/i0/fq/ffi0fqqs7gbi3aczbucvusrw2qi.jpeg"></p><br>
<p>В этом нет ничего сложного, для каждого алгоритмы мы обучаем 1 со стандартаными настройками, а также обучаем целый набор, перебирая различные варианты опций, которые влияют на качество работы алгоритма. Этот этап называется Model Tuning или Hyperparameter Optimization и его суть очень простая: выбирается тот набор настроек, который дает наилучший результат. </p><br>
<pre><code class="python">from model_training import train_classifiers
from data_loaders import load_processed_data
import warnings
warnings.filterwarnings('ignore')

# Загружаем данные
hogwarts_df = load_processed_data()

# Оставляем только нужные колонки
data_full = hogwarts_df.drop(
    [
    'name', 
    'surname',
    'is_griffindor',
    'is_hufflpuff',
    'is_ravenclaw'
    ], 
    axis=1).copy()
X_data = data_full.drop('is_slitherin', axis=1)
y = data_full.is_slitherin

# Проводим исследование моделей
slitherin_models = train_classifiers(data_full, X_data, y)
score_testing_dataset(slitherin_models[5])</code></pre><br>
<pre><code class="plaintext">Кирилл Малев — 0.09437856871661066
Kirill Malev — 0.20820536334902712
Гарри Поттер — 0.07550095601699099
Harry Potter — 0.07683794773639624
Северус Снейп — 0.9414529336862744
Северус Снегг — 0.9293671807790949
Severus Snape — 0.6576783576162999
Том Реддл — 0.18577792617672767
Tom Riddle — 0.8351835484058869
Салазар Слизерин — 0.25930925139546795
Salazar Slytherin — 0.24008788903854789</code></pre><br>
<p>Цифры в этом варианте выглядят субъективно лучше, чем в прошлом, но еще недостаточно хороши для внутреннего перфекциониста. Поэтому мы спустимся на уровень глубже и вернемся к продуктовому смыслу нашей задачи: нужно предсказать наиболее вероятный факультет, на который героя определит распределяющая шляпа. Это значит — что нужно обучить модели для каждого из факультетов.</p><br>
<p><img src="https://habrastorage.org/webt/hc/ag/ci/hcagciojsjdzpglovd1xabohtym.jpeg"></p><br>
<pre><code class="python">&gt;&gt; from model_training import train_all_models

# Обучаем модели для каждого факультета
&gt;&gt; slitherin_models, griffindor_models, ravenclaw_models, hufflpuff_models = \
    train_all_models()</code></pre><br>
<div class="spoiler"><b class="spoiler_title">Длинный вывод результатов и результаты мультиномиальной регрессии</b><div class="spoiler_text"><pre><code class="plaintext">SVM Default Report
Accuracy for SVM Default: 73.93
ROC AUC for SVM Default: 0.53

Tuned SVM Report
Accuracy for Tuned SVM: 72.37
ROC AUC for Tuned SVM: 0.50

KNN Default Report
Accuracy for KNN Default: 70.04
ROC AUC for KNN Default: 0.58

Tuned KNN Report
Accuracy for Tuned KNN: 69.65
ROC AUC for Tuned KNN: 0.58

XGBoost Default Report
Accuracy for XGBoost Default: 70.43
ROC AUC for XGBoost Default: 0.54

Tuned XGBoost Report
Accuracy for Tuned XGBoost: 68.09
ROC AUC for Tuned XGBoost: 0.56

Random Forest Default Report
Accuracy for Random Forest Default: 73.93
ROC AUC for Random Forest Default: 0.62

Tuned Random Forest Report
Accuracy for Tuned Random Forest: 74.32
ROC AUC for Tuned Random Forest: 0.54

Extra Trees Default Report
Accuracy for Extra Trees Default: 69.26
ROC AUC for Extra Trees Default: 0.57

Tuned Extra Trees Report
Accuracy for Tuned Extra Trees: 73.54
ROC AUC for Tuned Extra Trees: 0.55

LGBM Default Report
Accuracy for LGBM Default: 70.82
ROC AUC for LGBM Default: 0.62

Tuned LGBM Report
Accuracy for Tuned LGBM: 74.71
ROC AUC for Tuned LGBM: 0.53

RGF Default Report
Accuracy for RGF Default: 70.43
ROC AUC for RGF Default: 0.58

Tuned RGF Report
Accuracy for Tuned RGF: 71.60
ROC AUC for Tuned RGF: 0.60

FRGF Default Report
Accuracy for FRGF Default: 68.87
ROC AUC for FRGF Default: 0.59

Tuned FRGF Report
Accuracy for Tuned FRGF: 69.26
ROC AUC for Tuned FRGF: 0.59

SVM Default Report
Accuracy for SVM Default: 70.43
ROC AUC for SVM Default: 0.50

Tuned SVM Report
Accuracy for Tuned SVM: 71.60
ROC AUC for Tuned SVM: 0.50

KNN Default Report
Accuracy for KNN Default: 63.04
ROC AUC for KNN Default: 0.49

Tuned KNN Report
Accuracy for Tuned KNN: 65.76
ROC AUC for Tuned KNN: 0.50

XGBoost Default Report
Accuracy for XGBoost Default: 69.65
ROC AUC for XGBoost Default: 0.54

Tuned XGBoost Report
Accuracy for Tuned XGBoost: 68.09
ROC AUC for Tuned XGBoost: 0.50

Random Forest Default Report
Accuracy for Random Forest Default: 66.15
ROC AUC for Random Forest Default: 0.51

Tuned Random Forest Report
Accuracy for Tuned Random Forest: 70.43
ROC AUC for Tuned Random Forest: 0.50

Extra Trees Default Report
Accuracy for Extra Trees Default: 64.20
ROC AUC for Extra Trees Default: 0.49

Tuned Extra Trees Report
Accuracy for Tuned Extra Trees: 70.82
ROC AUC for Tuned Extra Trees: 0.51

LGBM Default Report
Accuracy for LGBM Default: 67.70
ROC AUC for LGBM Default: 0.56

Tuned LGBM Report
Accuracy for Tuned LGBM: 70.82
ROC AUC for Tuned LGBM: 0.50

RGF Default Report
Accuracy for RGF Default: 66.54
ROC AUC for RGF Default: 0.52

Tuned RGF Report
Accuracy for Tuned RGF: 65.76
ROC AUC for Tuned RGF: 0.53

FRGF Default Report
Accuracy for FRGF Default: 65.76
ROC AUC for FRGF Default: 0.53

Tuned FRGF Report
Accuracy for Tuned FRGF: 69.65
ROC AUC for Tuned FRGF: 0.52

SVM Default Report
Accuracy for SVM Default: 74.32
ROC AUC for SVM Default: 0.50

Tuned SVM Report
Accuracy for Tuned SVM: 74.71
ROC AUC for Tuned SVM: 0.51

KNN Default Report
Accuracy for KNN Default: 69.26
ROC AUC for KNN Default: 0.48

Tuned KNN Report
Accuracy for Tuned KNN: 73.15
ROC AUC for Tuned KNN: 0.49

XGBoost Default Report
Accuracy for XGBoost Default: 72.76
ROC AUC for XGBoost Default: 0.49

Tuned XGBoost Report
Accuracy for Tuned XGBoost: 74.32
ROC AUC for Tuned XGBoost: 0.50

Random Forest Default Report
Accuracy for Random Forest Default: 73.93
ROC AUC for Random Forest Default: 0.52

Tuned Random Forest Report
Accuracy for Tuned Random Forest: 74.32
ROC AUC for Tuned Random Forest: 0.50

Extra Trees Default Report
Accuracy for Extra Trees Default: 73.93
ROC AUC for Extra Trees Default: 0.52

Tuned Extra Trees Report
Accuracy for Tuned Extra Trees: 73.93
ROC AUC for Tuned Extra Trees: 0.50

LGBM Default Report
Accuracy for LGBM Default: 73.54
ROC AUC for LGBM Default: 0.52

Tuned LGBM Report
Accuracy for Tuned LGBM: 74.32
ROC AUC for Tuned LGBM: 0.50

RGF Default Report
Accuracy for RGF Default: 73.54
ROC AUC for RGF Default: 0.51

Tuned RGF Report
Accuracy for Tuned RGF: 73.93
ROC AUC for Tuned RGF: 0.50

FRGF Default Report
Accuracy for FRGF Default: 73.93
ROC AUC for FRGF Default: 0.53

Tuned FRGF Report
Accuracy for Tuned FRGF: 73.93
ROC AUC for Tuned FRGF: 0.50

SVM Default Report
Accuracy for SVM Default: 80.54
ROC AUC for SVM Default: 0.50

Tuned SVM Report
Accuracy for Tuned SVM: 80.93
ROC AUC for Tuned SVM: 0.52

KNN Default Report
Accuracy for KNN Default: 78.60
ROC AUC for KNN Default: 0.50

Tuned KNN Report
Accuracy for Tuned KNN: 80.16
ROC AUC for Tuned KNN: 0.51

XGBoost Default Report
Accuracy for XGBoost Default: 80.54
ROC AUC for XGBoost Default: 0.50

Tuned XGBoost Report
Accuracy for Tuned XGBoost: 77.04
ROC AUC for Tuned XGBoost: 0.52

Random Forest Default Report
Accuracy for Random Forest Default: 77.43
ROC AUC for Random Forest Default: 0.49

Tuned Random Forest Report
Accuracy for Tuned Random Forest: 80.54
ROC AUC for Tuned Random Forest: 0.50

Extra Trees Default Report
Accuracy for Extra Trees Default: 76.26
ROC AUC for Extra Trees Default: 0.48

Tuned Extra Trees Report
Accuracy for Tuned Extra Trees: 78.60
ROC AUC for Tuned Extra Trees: 0.50

LGBM Default Report
Accuracy for LGBM Default: 75.49
ROC AUC for LGBM Default: 0.51

Tuned LGBM Report
Accuracy for Tuned LGBM: 80.54
ROC AUC for Tuned LGBM: 0.50

RGF Default Report
Accuracy for RGF Default: 78.99
ROC AUC for RGF Default: 0.52

Tuned RGF Report
Accuracy for Tuned RGF: 75.88
ROC AUC for Tuned RGF: 0.55

FRGF Default Report
Accuracy for FRGF Default: 76.65
ROC AUC for FRGF Default: 0.50

# Респект тем читателям, которые открывают кат и смотрят на результаты</code></pre><br>
<pre><code class="python">from sklearn.linear_model import LogisticRegression

clf = LogisticRegression(random_state=0, solver='lbfgs',  multi_class='multinomial') 
hogwarts_df = load_processed_data_multi()

# Оставляем только нужные колонки
data_full = hogwarts_df.drop(
    [
    'name', 
    'surname',
    ], 
    axis=1).copy()
X_data = data_full.drop('faculty', axis=1)
y = data_full.faculty

clf.fit(X_data, y)
score_testing_dataset(clf)</code></pre><br>
<pre><code class="plaintext">Кирилл Малев — [0.3602361  0.16166944 0.16771712 0.31037733]
Kirill Malev — [0.47473072 0.16051924 0.13511385 0.22963619]
Гарри Поттер — [0.38697926 0.19330242 0.17451052 0.2452078 ]
Harry Potter — [0.40245098 0.16410043 0.16023278 0.27321581]
Северус Снейп — [0.13197025 0.16438855 0.17739254 0.52624866]
Северус Снегг — [0.17170203 0.1205678  0.14341742 0.56431275]
Severus Snape — [0.15558044 0.21589378 0.17370406 0.45482172]
Том Реддл — [0.39301231 0.07397324 0.1212741  0.41174035]
Tom Riddle — [0.26623969 0.14194379 0.1728505  0.41896601]
Салазар Слизерин — [0.24843037 0.21632736 0.21532696 0.3199153 ]
Salazar Slytherin — [0.09359144 0.26735897 0.2742305  0.36481909]</code></pre><br>
<p>И confusion_matrix:</p><br>
<pre><code class="python">confusion_matrix(clf.predict(X_data), y)</code></pre><br>
<pre><code class="plaintext">array([[144,  68,  64,  78],
       [  8,   9,   8,   6],
       [ 22,  18,  31,  20],
       [ 77,  73,  78, 151]])</code></pre></div></div><br>
<pre><code class="python">def get_predctions_vector (models, person):
    predictions = [get_predictions_vector (model, person)[1] for model in models]
    return {
        'slitherin': predictions[0],
        'griffindor': predictions[1],
        'ravenclaw': predictions[2],
        'hufflpuff': predictions[3]
    }

def score_testing_dataset (models):
    testing_dataset = [
            "Кирилл Малев", "Kirill Malev",
            "Гарри Поттер", "Harry Potter", 
            "Северус Снейп", "Северус Снегг","Severus Snape",
            "Том Реддл", "Tom Riddle", 
            "Салазар Слизерин", "Salazar Slytherin"]

    data = []
    for name in testing_dataset: 
        predictions = get_predctions_vector(models, name)
        predictions['name'] = name
        data.append(predictions)

    scoring_df = pd.DataFrame(data, 
                              columns=['name', 
                                       'slitherin', 
                                       'griffindor', 
                                       'hufflpuff', 
                                       'ravenclaw'])
    return scoring_df

#  Data Science — лучший выбор для тех, кто хочет работать с топ моделями
top_models = [
    slitherin_models[3],
    griffindor_models[3], 
    ravenclaw_models[3], 
    hufflpuff_models[3]
]

score_testing_dataset(top_models)</code></pre><br>
<pre><code class="plaintext">    name    slitherin   griffindor  hufflpuff   ravenclaw
0   Кирилл Малев    0.349084    0.266909    0.110311    0.091045
1   Kirill Malev    0.289914    0.376122    0.384986    0.103056
2   Гарри Поттер    0.338258    0.400841    0.016668    0.124825
3   Harry Potter    0.245377    0.357934    0.026287    0.154592
4   Северус Снейп   0.917423    0.126997    0.176640    0.096570
5   Северус Снегг   0.969693    0.106384    0.150146    0.082195
6   Severus Snape   0.663732    0.259189    0.290252    0.074148
7   Том Реддл   0.268466    0.579401    0.007900    0.083195
8   Tom Riddle  0.639731    0.541184    0.084395    0.156245
9   Салазар Слизерин    0.653595    0.147506    0.172940    0.137134
10  Salazar Slytherin   0.647399    0.169964    0.095450    0.26126</code></pre><br>
<p><img src="https://habrastorage.org/webt/kc/pq/r7/kcpqr7dw_t-yudtoda54qj1su3o.jpeg"></p><br>
<p>Как видно из тестового датасета, <del>не все слизеринцы злы</del> шляпа иногда ошибается. При этом средний ROC AUC чуть лучше, чем 0.5. Чтобы избежать нежелательных ошибок, остается несколько вариантов:</p><br>
<ul>
<li>Ввести дополнительные признаки;</li>
<li>Попробовать обучать другие алгоритмы;</li>
<li>Ввести сложную функцию потерь, которая будет больше штрафовать ошибки распределения ключевых персонажей;</li>
<li>Добавить повторные имена в исходные файлы, чтобы придать им больший вес;</li>
<li>Собрать датасет, по которому выбирается решение и отобрать в качестве окончательных решений те модели, которые понравятся редактору.</li>
</ul><br>
<p>Любой из этих вариантов открывает возможность к повторному обучению и оценке моделей, однако в силу того, что мы условились, что мы торопимся, мы принимаем волевое решение в качестве наилучших выбрать модели XGBoost с наилучшими с точки зрения CV параметрами, и именно эти модели пойдут в продакшн.</p><br>
<p>Важно! Модели, рассмотренные выше были обучены только на 70% данных. Поэтому для использования в продакшне, мы заново обучим 4 модели с использованием всего набора данных и снова оценим результаты.</p><br>
<pre><code class="python">from model_training import train_production_models
from xgboost import XGBClassifier

best_models = []
for i in range (0,4):
    best_models.append(XGBClassifier(base_score=0.5, booster='gbtree', colsample_bylevel=1,
           colsample_bytree=0.7, gamma=0, learning_rate=0.05, max_delta_step=0,
           max_depth=6, min_child_weight=11, missing=-999, n_estimators=1000,
           n_jobs=1, nthread=4, objective='binary:logistic', random_state=0,
           reg_alpha=0, reg_lambda=1, scale_pos_weight=1, seed=1337, silent=1,
           subsample=0.8))

slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model = \
    train_production_models(best_models)

top_models = slitherin_model, griffindor_model, ravenclaw_model, hufflpuff_model
score_testing_dataset(top_models)</code></pre><br>
<pre><code class="plaintext">name    slitherin   griffindor  hufflpuff   ravenclaw
0   Кирилл Малев    0.273713    0.372337    0.065923    0.279577
1   Kirill Malev    0.401603    0.761467    0.111068    0.023902
2   Гарри Поттер    0.031540    0.616535    0.196342    0.217829
3   Harry Potter    0.183760    0.422733    0.119393    0.173184
4   Северус Снейп   0.945895    0.021788    0.209820    0.019449
5   Северус Снегг   0.950932    0.088979    0.084131    0.012575
6   Severus Snape   0.634035    0.088230    0.249871    0.036682
7   Том Реддл   0.426440    0.431351    0.028444    0.083636
8   Tom Riddle  0.816804    0.136530    0.069564    0.035500
9   Салазар Слизерин    0.409634    0.213925    0.028631    0.252723
10  Salazar Slytherin   0.824590    0.067910    0.111147    0.085710</code></pre><br>
<p>Если внимательно присмотреться в эту таблицу, то видно, что результаты улучшились. </p><br>
<p>Полученные модели мы экспортируем, чтобы потом ими можно было пользоваться без повторения процесса подготовки данных, извлечения признаков и обучения моделей. Сохраним самый сок. </p><br>
<pre><code class="python">import pickle

pickle.dump(slitherin_model, open("../output/slitherin.xgbm", "wb"))
pickle.dump(griffindor_model, open("../output/griffindor.xgbm", "wb"))
pickle.dump(ravenclaw_model, open("../output/ravenclaw.xgbm", "wb"))
pickle.dump(hufflpuff_model, open("../output/hufflpuff.xgbm", "wb"))</code></pre><br>
<h2 id="prodakshn">Продакшн</h2><br>
<p>Даже самая крутая и сложная модель будет приносить пользу только тогда, когда ей смогут пользоваться люди. А для того, чтобы ее вообще увидел свет, нужно, чтобы пользоваться ей было удобно конечному пользователю.</p><br>
<p>Конечным пользователем любой МЛ модели часто является не конечный пользователь сервиса, а разработчик, который будет это интегрировать в продукт. Даже если эту роль приходится взять на себя, то модель нужно упаковать в удобный интерфейс. Поэтому вспоминаем, что каждый Data Scientist — это немного бекендер и погружаемся в бекенд-разработку.</p><br>
<p>Основные требования к задаче интеграции: </p><br>
<ul>
<li>Модель должна работать отдельным сервисом;</li>
<li>Принимать данные в виде json-запроса и также отдавать ответ в виде json;</li>
<li>Модель должна быть готова к использованию в любой среде без длительной настройки.</li>
</ul><br>
<p>Конечно, решение будет упаковано в docker-контейнер, чтобы избавить разработчика от необходимости установки лишних пакетов и настройки python-окружения. Само решение, которое будет принимать данные и возвращать ответ мы сделаем на flask.</p><br>
<div class="spoiler"><b class="spoiler_title">Первый вариант</b><div class="spoiler_text"><pre><code class="python">from __future__ import print_function # In python 2.7
import os
import subprocess
import json
import re
from flask import Flask, request, jsonify
from inspect import getmembers, ismethod
import numpy as npb
import pandas as pd
import math
import os
import pickle
import xgboost as xgb
import sys
from letter import Letter
from talking_hat import *
from sklearn.ensemble import RandomForestClassifier
import warnings

def prod_predict_classes_for_name (full_name):
    featurized_person = parse_line_to_hogwarts_df(full_name)

    person_df = pd.DataFrame(featurized_person,
        columns=[
         'name', 
         'surname', 
         'is_english',
         'name_starts_with_vowel', 
         'name_starts_with_consonant',
         'name_ends_with_vowel', 
         'name_ends_with_consonant',
         'name_length', 
         'name_vowels_count',
         'name_double_vowels_count',
         'name_consonant_count',
         'name_double_consonant_count',
         'name_paired_count',
         'name_deaf_count',
         'name_sonorus_count',
         'surname_starts_with_vowel', 
         'surname_starts_with_consonant',
         'surname_ends_with_vowel', 
         'surname_ends_with_consonant',
         'surname_length', 
         'surname_vowels_count',
         'surname_double_vowels_count',
         'surname_consonant_count',
         'surname_double_consonant_count',
         'surname_paired_count',
         'surname_deaf_count',
         'surname_sonorus_count',
        ],
                             index=[0]
    )

    slitherin_model =  pickle.load(open("models/slitherin.xgbm", "rb"))
    griffindor_model = pickle.load(open("models/griffindor.xgbm", "rb"))
    ravenclaw_model = pickle.load(open("models/ravenclaw.xgbm", "rb"))
    hufflpuff_model = pickle.load(open("models/hufflpuff.xgbm", "rb"))

    predictions =  get_predctions_vector([
                        slitherin_model,
                        griffindor_model,
                        ravenclaw_model,
                        hufflpuff_model
                        ], 
                      person_df.drop(['name', 'surname'], axis=1))

    return {
        'slitherin': float(predictions[0][1]),
        'griffindor': float(predictions[1][1]),
        'ravenclaw': float(predictions[2][1]),
        'hufflpuff': float(predictions[3][1])
    }

def predict(params):
    fullname = params['fullname']
    print(params)
    return prod_predict_classes_for_name(fullname)

def create_app():
    app = Flask(__name__)

    functions_list = [predict]

    @app.route('/&lt;func_name&gt;', methods=['POST'])
    def api_root(func_name):
        for function in functions_list:
            if function.__name__ == func_name:
                try:
                    json_req_data = request.get_json()
                    if json_req_data:
                        res = function(json_req_data)
                    else:
                        return jsonify({"error": "error in receiving the json input"})
                except Exception as e:
                    data = {
                        "error": "error while running the function"
                    }
                    if hasattr(e, 'message'):
                        data['message'] = e.message
                    elif len(e.args) &gt;= 1:
                        data['message'] = e.args[0]
                    return jsonify(data)
                return jsonify({"success": True, "result": res})
        output_string = 'function: %s not found' % func_name
        return jsonify({"error": output_string})

    return app

if __name__ == '__main__':
    app = create_app()
    app.run(host='0.0.0.0')</code></pre></div></div><br>
<p>Dockerfile:</p><br>
<pre><code class="bash">FROM datmo/python-base:cpu-py35

# Используем python3-wheel, чтобы не тратить время на сборку пакетов
RUN apt-get update; apt-get install -y python3-pip python3-numpy python3-scipy python3-wheel
ADD requirements.txt /
RUN pip3 install -r /requirements.txt

RUN mkdir /code;mkdir /code/models
COPY ./python_api.py ./talking_hat.py ./letter.py ./request.py /code/
COPY ./models/* /code/models/

WORKDIR /code

CMD python3 /code/python_api.py</code></pre><br>
<p>Модель собирается очень просто:</p><br>
<pre><code class="bash">docker build -t talking_hat . &amp;&amp; docker rm talking_hat &amp;&amp; docker run --name talking_hat -p 5000:5000 talking_hat</code></pre><br>
<h2 id="testirovanie-prodakshn-modeli">Тестирование продакшн модели</h2><br>
<p>У решения есть недостаток — скрипт каждый раз тратит время на выгрузку и загрузку модели из памяти. Исправим это, но сначала замерим производительность данного решения при помощи <a href="https://httpd.apache.org/docs/2.4/programs/ab.html">Apache Benchmark</a>. Действительно будет недальновидно провести тестирование модели, но не провести тестирование конечного решения. Тестирование — наше все.</p><br>
<pre><code class="bash">$ ab -p data.json -T application/json -c 50 -n 10000 http://0.0.0.0:5000/predict</code></pre><br>
<div class="spoiler"><b class="spoiler_title">Вывод ab</b><div class="spoiler_text"><pre><code class="plaintext">This is ApacheBench, Version 2.3 &lt;$Revision: 1807734 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Licensed to The Apache Software Foundation, http://www.apache.org/

Benchmarking 0.0.0.0 (be patient)
Completed 1000 requests
Completed 2000 requests
Completed 3000 requests
Completed 4000 requests
Completed 5000 requests
Completed 6000 requests
Completed 7000 requests
Completed 8000 requests
Completed 9000 requests
Completed 10000 requests
Finished 10000 requests

Server Software:        Werkzeug/0.14.1
Server Hostname:        0.0.0.0
Server Port:            5000

Document Path:          /predict
Document Length:        141 bytes

Concurrency Level:      50
Time taken for tests:   238.552 seconds
Complete requests:      10000
Failed requests:        0
Total transferred:      2880000 bytes
Total body sent:        1800000
HTML transferred:       1410000 bytes
Requests per second:    41.92 [#/sec] (mean)
Time per request:       1192.758 [ms] (mean)
Time per request:       23.855 [ms] (mean, across all concurrent requests)
Transfer rate:          11.79 [Kbytes/sec] received
                        7.37 kb/s sent
                        19.16 kb/s total

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       3
Processing:   199 1191 352.5   1128    3352
Waiting:      198 1190 352.5   1127    3351
Total:        202 1191 352.5   1128    3352

Percentage of the requests served within a certain time (ms)
  50%   1128
  66%   1277
  75%   1378
  80%   1451
  90%   1668
  95%   1860
  98%   2096
  99%   2260
 100%   3352 (longest request)</code></pre></div></div><br>
<p>Теперь приведем решение к варианту, когда модель постоянно загружена в память:</p><br>
<pre><code class="python">def prod_predict_classes_for_name (full_name):
    &lt;...&gt;
    predictions =  get_predctions_vector([
                        app.slitherin_model,
                        app.griffindor_model,
                        app.ravenclaw_model,
                        app.hufflpuff_model
                        ], 
                      person_df.drop(['name', 'surname'], axis=1))

    return {
        'slitherin': float(predictions[0][1]),
        'griffindor': float(predictions[1][1]),
        'ravenclaw': float(predictions[2][1]),
        'hufflpuff': float(predictions[3][1])
    }

def create_app():
    &lt;...&gt;

    with app.app_context():
        app.slitherin_model =  pickle.load(open("models/slitherin.xgbm", "rb"))
        app.griffindor_model = pickle.load(open("models/griffindor.xgbm", "rb"))
        app.ravenclaw_model = pickle.load(open("models/ravenclaw.xgbm", "rb"))
        app.hufflpuff_model = pickle.load(open("models/hufflpuff.xgbm", "rb"))

    return app</code></pre><br>
<p>И замерим результаты тестов:</p><br>
<pre><code class="bash">$ docker build -t talking_hat . &amp;&amp; docker rm talking_hat &amp;&amp; docker run --name talking_hat -p 5000:5000 talking_hat
$ ab -p data.json -T application/json -c 50 -n 10000 http://0.0.0.0:5000/predict</code></pre><br>
<div class="spoiler"><b class="spoiler_title">Вывод ab</b><div class="spoiler_text"><pre><code class="plaintext">This is ApacheBench, Version 2.3 &lt;$Revision: 1807734 $&gt;
Copyright 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Licensed to The Apache Software Foundation, http://www.apache.org/

Benchmarking 0.0.0.0 (be patient)
Completed 1000 requests
Completed 2000 requests
Completed 3000 requests
Completed 4000 requests
Completed 5000 requests
Completed 6000 requests
Completed 7000 requests
Completed 8000 requests
Completed 9000 requests
Completed 10000 requests
Finished 10000 requests

Server Software:        Werkzeug/0.14.1
Server Hostname:        0.0.0.0
Server Port:            5000

Document Path:          /predict
Document Length:        141 bytes

Concurrency Level:      50
Time taken for tests:   219.812 seconds
Complete requests:      10000
Failed requests:        3
   (Connect: 0, Receive: 0, Length: 3, Exceptions: 0)
Total transferred:      2879997 bytes
Total body sent:        1800000
HTML transferred:       1409997 bytes
Requests per second:    45.49 [#/sec] (mean)
Time per request:       1099.062 [ms] (mean)
Time per request:       21.981 [ms] (mean, across all concurrent requests)
Transfer rate:          12.79 [Kbytes/sec] received
                        8.00 kb/s sent
                        20.79 kb/s total

Connection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    0   0.1      0       2
Processing:   235 1098 335.2   1035    3464
Waiting:      235 1097 335.2   1034    3462
Total:        238 1098 335.2   1035    3464

Percentage of the requests served within a certain time (ms)
  50%   1035
  66%   1176
  75%   1278
  80%   1349
  90%   1541
  95%   1736
  98%   1967
  99%   2141
 100%   3464 (longest request)</code></pre></div></div><br>
<p>Готово. Получили небольшой прирост. В таком виде модель можно отдать в виде репозитория, который при необходимости можно очень быстро встроить в любой сайт.</p><br>
<h2 id="zaklyuchenie">Заключение</h2><br>
<p>На самом деле в рамках статьи мы прошли полноценный путь небольшого исследования, результатом которого стала пригодная к работе модель определения факультета Хогвартса по имени пользователя. Полученное решение можно использовать для создания промо-сайтов или просто как обучающий пример.</p><br>
<p>Конечно, решение можно улучшить и далее:</p><br>
<ul>
<li>С точки зрения feature engineering-а можно использовать фонетический поиск (<a href="https://habr.com/post/28752/">вводная статья</a> на Хабре), в частности, <a href="https://medium.com/@yash_agarwal2/soundex-and-levenshtein-distance-in-python-8b4b56542e9e">Soundex</a> алгоритм для определения звучания имени. </li>
<li>Можно воспользоваться замечательной <a href="https://pytorch.org/tutorials/intermediate/char_rnn_classification_tutorial.html">статьёй</a> в блоге PyTorch и применить рекуррентную нейронную сеть для классификации имен. Эта статья почти готова для наших задач, тк в ней рассматривается определение страны происхождения имени, то есть решается та же самая задач классификации имени.</li>
<li>Можно перейти от синхронного flask к асинхронному <a href="https://pgjones.gitlab.io/quart/">Quart</a>, который теоретически выглядит пригодным для решения нашей задачи, что сделает решение еще более уже устойчивым к высоким нагрузкам.</li>
<li>Добавить в репозиторий телегам-бота или демо-страничку, чтобы решение было удобнее тестировать.</li>
</ul><br>
<p>В зависимости от пожеланий и критики, можно вернуться к решению этой учебной задачи с целью демонстрации того, как можно продолжить улучшение модели. Спасибо за то, что прочитали! </p><br>
<p>Эта статья не была бы опубликована без сообщества Open Data Science, которое объединяет большое количество русскоязычных специалистов в области анализа данных. </p><cut></cut></div>
      
      
<script class="js-mediator-script">!function(e){function t(t,n){if(!(n in e)){for(var r,a=e.document,i=a.scripts,o=i.length;o--;)if(-1!==i[o].src.indexOf(t)){r=i[o];break}if(!r){r=a.createElement("script"),r.type="text/javascript",r.async=!0,r.defer=!0,r.src=t,r.charset="UTF-8";var d=function(){var e=a.getElementsByTagName("script")[0];e.parentNode.insertBefore(r,e)};"[object Opera]"==e.opera?a.addEventListener?a.addEventListener("DOMContentLoaded",d,!1):e.attachEvent("onload",d):d()}}}t("//mediator.mail.ru/script/2820404/","_mediator")}(window);</script>
    </div>

    

    <dl class="post__tags">
      <dt class="post__tags-label">Tags:</dt>
      <dd class="post__tags-list">    <ul class="inline-list inline-list_fav-tags js-post-tags">
        <li class="inline-list__item inline-list__item_tag"><a href="https://habr.com/search/?q=%5Bods%5D&target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">ods</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habr.com/search/?q=%5Bharry%20potter%5D&target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">harry potter</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habr.com/search/?q=%5Bcrisp%5D&target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">crisp</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habr.com/search/?q=%5Bcrisp-dm%5D&target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">crisp-dm</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habr.com/search/?q=%5Bdata%20science%5D&target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">data science</a></li>
        <li class="inline-list__item inline-list__item_tag"><a href="https://habr.com/search/?q=%5Bdocker%5D&target_type=posts" rel="tag" class="inline-list__item-link post__tag  ">docker</a></li>
    </ul>
    <button type="button" class="btn btn_outline_grey btn_mini hidden js-fav-edit-link" data-type="2" data-id="430006" onclick="show_edit_tags(this)">Добавить метки</button>
</dd>
    </dl>
  </div>
</article>


        <form action="/json/favorites/" method="post" class="form form_bordered form_favorites-tags hidden" id="edit_tags_form">
  <input type="hidden" name="action" value="add" />
  <input type="hidden" name="ti" value="0" />
  <input type="hidden" name="tt" value="0" />

  <button type="button" class="btn form__close-btn" onclick="closeForm(this)" title="Закрыть"><svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"/></svg>
</button>

  <fieldset class="form__fieldset">
    <legend class="form__legend">Пометьте публикацию своими метками</legend>
    <input type="text" name="tags_string" class="form__text-field" />
    <span class="form__desc">Метки лучше разделять запятой. Например: <i>программирование, алгоритмы</i></span>
  </fieldset>

  <div class="form__footer">
    <button type="submit" class="btn btn_x-large btn_outline_blue" disabled>Сохранить</button>
  </div>
</form>

        <div class="post-additionals post-additionals_company">
            <ul class="post-stats post-stats_post js-user_" id="infopanel_post_430006">
        <li class="post-stats__item post-stats__item_voting-wjt">
          <div class="voting-wjt voting-wjt_post js-post-vote" data-id="430006" data-type="2">
            <button type="button" class="btn voting-wjt__button " data-action="plus" onclick="posts_vote(this);" title="Голосовать могут только зарегистрированные пользователи Голосовать могут только пользователи с полноправным аккаунтом" disabled><svg class="icon-svg_arrow-up" width="10" height="16"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#vote-arrow" /></svg></button>

            <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 67: &uarr;66 и &darr;1">+65</span>

            <button type="button" class="btn voting-wjt__button " data-action="minus" onclick="posts_vote(this);" title="Голосовать могут только зарегистрированные пользователи Голосовать могут только пользователи с полноправным аккаунтом" disabled><svg class="icon-svg_arrow-down" width="10" height="16"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#vote-arrow" /></svg></button>
          </div>
        </li>

    <li class="post-stats__item post-stats__item_bookmark">
      <button type="button" class="btn bookmark-btn bookmark-btn_post " data-type="2" data-id="430006" data-action="add" title="Только зарегистрированные пользователи могут добавлять публикации в закладки" onclick="posts_add_to_favorite(this);" disabled>
        <span class="btn_inner"><svg class="icon-svg_bookmark" width="10" height="16"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="bookmark__counter js-favs_count" title="Количество пользователей, добавивших публикацию в закладки">149</span></span>
      </button>
    </li>

    <li class="post-stats__item post-stats__item_views">
      <div class="post-stats__views" title="Количество просмотров">
        <svg class="icon-svg_views-count" width="21" height="12"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-stats__views-count">11,2k</span>
      </div>
    </li>

      <li class="post-stats__item post-stats__item_comments">
          <a href="https://habr.com/company/ods/blog/430006/#comments" class="post-stats__comments-link" rel="nofollow">
            <svg class="icon-svg_post-comments" width="16" height="16"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-stats__comments-count" title="Читать комментарии">1</span>
          </a>
      </li>





  </ul>

            <form action="/json/complaints/add/" class="form form_bordered form_abuse hidden" method="post" id="abuse_form">
  <input type="hidden" name="tt" value="2" />
  <input type="hidden" name="ti" value="430006" />

  <button type="button" class="btn form__close-btn" onclick="closeForm(this)"><svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"/></svg>
</button>

  <fieldset class="form__fieldset">
    <legend class="form__legend">Нарушение</legend>
    <input type="text" name="text" class="form__text-field" />
    <span class="form__desc">Опишите суть нарушения</span>
  </fieldset>

  <div class="form__footer">
    <button type="submit" class="btn btn_x-large btn_outline_blue" disabled>Отправить</button>
  </div>
</form>


              <form action="/conversations/PlayItToDeath/" method="GET" class="form form_bordered form_admin-causes hidden" id="admin_causes">

    <input type="hidden" name="moderation" value="430006">

    <button type="button" class="btn form__close-btn" onclick="closeForm(this)"><svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"/></svg>
</button>

    <fieldset class="form__fieldset form__fieldset_admin-causes">
      <legend class="form__legend">Выберите рекомендации для отправки автору:</legend>

      <div class="checkbox-group_columns">
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="1"/>
          <span class="checkbox__label">Указан только блог</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="2"/>
          <span class="checkbox__label">Орфографические ошибки</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="3"/>
          <span class="checkbox__label">Пунктуационные ошибки</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="4"/>
          <span class="checkbox__label">Отступы</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="5"/>
          <span class="checkbox__label">Текст-простыня</span>
        </label>

        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="6"/>
          <span class="checkbox__label">Короткие предложения</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="7"/>
          <span class="checkbox__label">Смайлики</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="8"/>
          <span class="checkbox__label">Много форматирования</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="9"/>
          <span class="checkbox__label">Картинки</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="10"/>
          <span class="checkbox__label">Ссылки</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="11"/>
          <span class="checkbox__label">Оформление кода</span>
        </label>
        <label class="checkbox checkbox_custom checkbox_recommendation-form">
          <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="12"/>
          <span class="checkbox__label">Рекламный характер</span>
        </label>
      </div>
    </fieldset>

    <div class="form__footer">
      <button type="submit" class="btn btn_x-large btn_outline_blue" disabled>Отправить</button>
    </div>
  </form>


            <div class="company-info company-info_post-additional">
              <div class="company-info__about">
                <div class="media-obj media-obj_company">
    <a href="/company/ods/" class="media-obj__image page-header__image">
        <img src="//habrastorage.org/getpro/habr/company/1eb/85e/b87/1eb85eb876141db44f73d50f01c7e16d.png" width="48" height="48" class="company-info__image-pic"/>
    </a>

  <div class="media-obj__body media-obj__body_page-header media-obj__body_page-header_branding">

    <div class="page-header__info">
      <h1 class="page-header__info-title">Open Data Science</h1>
      <sup class="page-header__stats-value page-header__stats-value_branding" title="Рейтинг компании">257,00</sup>
      <h2 class="page-header__info-desc">
        Крупнейшее русскоязычное Data Science сообщество
      </h2>
    </div>
  </div>
</div>


              </div>
              <div class="company-info__author">
                <div class="user-info">
    <div class="user-info__stats">
  <div class="media-obj media-obj_user-info">
    <a href="/users/PlayItToDeath/" class="media-obj__image" onclick="if (typeof ga === 'function') { ga('send', 'event', 'author_info_top', 'profile', 'PlayItToDeath');}">
        <span class="default-image default-image_medium default-image_lilac">
          <svg class="icon-svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" version="1.1" role="img"><path d="M21.5 24h-19c-1.379 0-2.5-1.122-2.5-2.5v-19c0-1.379 1.122-2.5 2.5-2.5h19c1.379 0 2.5 1.122 2.5 2.5v19c0 1.379-1.122 2.5-2.5 2.5zm-19-23c-.827 0-1.5.673-1.5 1.5v19c0 .827.673 1.5 1.5 1.5h19c.827 0 1.5-.673 1.5-1.5v-19c0-.827-.673-1.5-1.5-1.5h-19zM15.598 12.385zM19.438 15.417l-.002-.005v-.001c-.875-2.226-2.484-3.054-3.445-3.549l-.273-.143c.029-.497-.025-1.034-.167-1.599l-.128.032.123-.044c-.765-2.152-1.757-2.585-2.632-2.967l-.006-.003-.535-2.121c.357-.065.628-.375.628-.752.001-.423-.342-.765-.765-.765s-.766.342-.766.765c0 .358.248.657.581.74l-.825 1.654-.014-.003-.024-.003c-1.053-.033-1.842.369-2.5.947-.633-.322-1.515-.729-2.158-1.814.107-.12.174-.276.174-.45 0-.375-.303-.678-.678-.678s-.678.303-.678.678.303.678.678.678l.221-.04c.416.597 1.09 1.181 1.347 2.828l-.072.091.104.081-.112-.067c-1.157 1.914-.793 4.248.207 5.37-.998 2.546-1.035 4.681-.097 5.868l.002.002.003.003c.119.162.313.233.524.233.189 0 .39-.057.559-.154.312-.179.441-.459.326-.713l-.12.054.119-.056c-.581-1.243-.474-2.713.314-4.37.4.131.778.208 1.145.234l.139.73c.264 1.418.514 2.757 1.297 4.006.132.264.453.387.777.387.122 0 .245-.018.357-.051.385-.116.591-.399.537-.738l-.129.021.125-.042c-.204-.606-.431-1.146-.649-1.67-.373-.894-.725-1.742-.891-2.737.407-.042.797-.129 1.161-.261.825.692 1.661 1.492 2.743 3.406h.001c.072.14.224.215.41.215.105 0 .222-.024.339-.073.365-.155.652-.531.477-1.006v-.001c-.432-1.849-1.426-2.778-2.428-3.547.162-.175.311-.366.442-.576.75.399 1.878 1.005 3.127 2.766l.047.067.011-.008c.151.156.317.24.48.24.096 0 .191-.027.279-.084.306-.194.439-.662.29-1.005zm-8.878-2.493c-.947 0-1.713-.767-1.713-1.713s.767-1.713 1.713-1.713c.947 0 1.713.767 1.713 1.713s-.767 1.713-1.713 1.713zm6.587 4.648l-.084.021v-.001l.084-.02zm-2.007-5.312zm.022 1.006zM11.225 11.604c0 .385-.312.697-.697.697s-.697-.312-.697-.697c0-.385.312-.697.697-.697s.697.312.697.697z"/></svg>
        </span>
    </a>

    <div class="media-obj__body media-obj__body_user-info">
          <a href="/info/help/karma/" class="user-info__stats-item stacked-counter" title="20 голосов">
            <div class="stacked-counter__value stacked-counter__value_green ">14,5</div>
            <div class="stacked-counter__label">Карма</div>
          </a>

        <a href="/info/help/karma/#rating" class="user-info__stats-item stacked-counter stacked-counter_rating" title="Рейтинг пользователя">
          <div class="stacked-counter__value stacked-counter__value_magenta">52,0</div>
          <div class="stacked-counter__label">Рейтинг</div>
        </a>

        <a href="/users/PlayItToDeath/subscription/followers/" class="user-info__stats-item stacked-counter stacked-counter_subscribers" title="Количество подписчиков">
          <div class="stacked-counter__value stacked-counter__value_blue">6</div>
          <div class="stacked-counter__label">Подписчики</div>
        </a>
    </div>
  </div>

</div>


  <div class="user-info__about">
    <div class="user-info__links">
      <a href="/users/PlayItToDeath/" class="user-info__fullname" onclick="if (typeof ga === 'function') { ga('send', 'event', 'author_info_top', 'profile', 'PlayItToDeath');}">Кирилл Малев</a>&nbsp;<a href="/users/PlayItToDeath/" class="user-info__nickname user-info__nickname_doggy" onclick="if (typeof ga === 'function') { ga('send', 'event', 'author_info_top', 'profile', 'PlayItToDeath');}">PlayItToDeath</a>
      
    </div>

      <div class="user-info__specialization">Пользователь</div>
  </div>

</div>

              </div>
                  <ul class="company-info__contacts inline-list">
          <li class="inline-list__item inline-list__item_contact-link"><a href="http://ods.ai/">Сайт</a></li>
    </ul>

            </div>
            <div class="post-share">
  <span class="post-share__title">Поделиться публикацией</span>
  <ul class="post-share__buttons social-icons">
    <li class="social-icons__item social-icons__item_post">
      <a href="https://www.facebook.com/sharer/sharer.php?u=https://habr.com/company/ods/blog/430006/"
        class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_facebook"
        title="Опубликовать ссылку в Facebook"
        onclick="window.open(this.href, 'Опубликовать ссылку в Facebook', 'width=640,height=436,toolbar=0,status=0'); return false"
      >
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M14.889 8.608h-1.65c-.195 0-.413.257-.413.6v1.192h2.063v1.698h-2.063v5.102h-1.948v-5.102h-1.766v-1.698h1.766v-1c0-1.434.995-2.6 2.361-2.6h1.65v1.808z"/></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://twitter.com/intent/tweet?text=Data+Science+%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82+%D0%BE%D1%82+%D0%B8%D1%81%D1%81%D0%BB%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F+%D0%B4%D0%BE+%D0%B2%D0%BD%D0%B5%D0%B4%D1%80%D0%B5%D0%BD%D0%B8%D1%8F+%D0%BD%D0%B0+%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D0%B5+%D0%93%D0%BE%D0%B2%D0%BE%D1%80%D1%8F%D1%89%D0%B5%D0%B9+%D1%88%D0%BB%D1%8F%D0%BF%D1%8B+https://habr.com/p/430006/+via+%40habr_com"
        class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_twitter"
        title="Опубликовать ссылку в Twitter"
        onclick="window.open(this.href, 'Опубликовать ссылку в Twitter', 'width=800,height=300,resizable=yes,toolbar=0,status=0'); return false"
      >
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.414 8.642c-.398.177-.826.296-1.276.35.459-.275.811-.71.977-1.229-.43.254-.905.439-1.41.539-.405-.432-.982-.702-1.621-.702-1.227 0-2.222.994-2.222 2.222 0 .174.019.344.058.506-1.846-.093-3.484-.978-4.579-2.322-.191.328-.301.71-.301 1.117 0 .77.392 1.45.988 1.849-.363-.011-.706-.111-1.006-.278v.028c0 1.077.766 1.974 1.782 2.178-.187.051-.383.078-.586.078-.143 0-.282-.014-.418-.04.282.882 1.103 1.525 2.075 1.542-.76.596-1.718.951-2.759.951-.179 0-.356-.01-.53-.031.983.63 2.15.998 3.406.998 4.086 0 6.321-3.386 6.321-6.321l-.006-.287c.433-.314.81-.705 1.107-1.15z"/></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://vk.com/share.php?url=https://habr.com/company/ods/blog/430006/"
        class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_vkontakte"
        title="Опубликовать ссылку во ВКонтакте"
        onclick="window.open(this.href, 'Опубликовать ссылку во ВКонтакте', 'width=800,height=300,toolbar=0,status=0'); return false"
      >
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M16.066 11.93s1.62-2.286 1.782-3.037c.054-.268-.064-.418-.343-.418h-1.406c-.322 0-.44.139-.537.343 0 0-.76 1.619-1.685 2.64-.297.33-.448.429-.612.429-.132 0-.193-.11-.193-.408v-2.607c0-.365-.043-.472-.343-.472h-2.254c-.172 0-.279.1-.279.236 0 .343.526.421.526 1.352v1.921c0 .386-.022.537-.204.537-.483 0-1.631-1.663-2.274-3.552-.129-.386-.268-.494-.633-.494h-1.406c-.204 0-.354.139-.354.343 0 .375.44 2.114 2.167 4.442 1.159 1.566 2.683 2.414 4.056 2.414.838 0 1.041-.139 1.041-.494v-1.202c0-.301.118-.429.29-.429.193 0 .534.062 1.33.848.945.901 1.01 1.276 1.525 1.276h1.578c.161 0 .311-.075.311-.343 0-.354-.462-.987-1.17-1.738-.29-.386-.762-.805-.912-.998-.215-.226-.151-.354-.001-.59z"/></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://t.me/share/url?url=https://habr.com/company/ods/blog/430006/&title=Data Science проект от исследования до внедрения на примере Говорящей шляпы"
        class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_telegram"
        title="Поделиться ссылкой в Telegram"
        onclick="window.open(this.href, 'Поделиться ссылкой в Telegram', 'width=800,height=300,toolbar=0,status=0'); return false"
      >
        <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.17 7.621l-10.498 3.699c-.169.059-.206.205-.006.286l2.257.904 1.338.536 6.531-4.796s.189.057.125.126l-4.68 5.062-.27.299.356.192 2.962 1.594c.173.093.397.016.447-.199.058-.254 1.691-7.29 1.728-7.447.047-.204-.087-.328-.291-.256zm-6.922 8.637c0 .147.082.188.197.084l1.694-1.522-1.891-.978v2.416z"/></svg>
      </a>
    </li>
    <li class="social-icons__item social-icons__item_post">
      <a href="https://getpocket.com/edit?url=https://habr.com/company/ods/blog/430006/&title=Data Science проект от исследования до внедрения на примере Говорящей шляпы"
        class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_pocket"
        title="Добавить ссылку в Pocket"
        target="_blank"
      >
      </a>
    </li>
  </ul>
</div>

        </div>

          

    <div class="default-block default-block_content">
      <div class="default-block__header default-block__header_large">
        <h3 class="default-block__header-title default-block__header-title_large">Похожие публикации</h3>
      </div>
      <div class="default-block__content">

        <ul class="content-list">
            <li class="content-list__item content-list__item_devided post-info">
              <span class="post-info__date">15 января 2018 в 14:00</span>
              <a href="/post/346632/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'similar_posts', 'common', '1'); }">Парсим мемы в питоне: как обойти серверную блокировку</a>

              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg>
                      <span class="post-info__meta-counter">+64</span>
                </span>
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">33k</span>
                </span>
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">305</span>
                </span>
                <a href="/post/346632#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">42</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <span class="post-info__date">11 декабря 2017 в 14:03</span>
              <a href="/post/343822/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'similar_posts', 'common', '2'); }">Рубрика «Читаем статьи за вас». Октябрь — Ноябрь 2017</a>

              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg>
                      <span class="post-info__meta-counter">+61</span>
                </span>
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">14k</span>
                </span>
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">85</span>
                </span>
                <a href="/post/343822#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">4</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <span class="post-info__date">7 октября 2015 в 11:45</span>
              <a href="/post/268319/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'similar_posts', 'common', '3'); }">Две задачи HeadHunter на Data Science Week: попробуйте решить сами</a>

              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg>
                      <span class="post-info__meta-counter">+29</span>
                </span>
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">22,3k</span>
                </span>
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">144</span>
                </span>
                <a href="/post/268319#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">3</span>
                </a>
              </div>
            </li>
        </ul>

      </div>
    </div>

        



            <div class="comments-section" id="comments">
    <header class="comments-section__head">
      <span class="comments-section__head-title">Комментарии <strong class="comments-section__head-counter" id="comments_count">1</strong></span>
      
    </header>
    
    

    <ul class="content-list content-list_comments" id="comments-list">
        <li class="content-list__item content-list__item_comment js-comment " rel="19410490">
    
    <span class="parent_id" data-parent_id="0"></span>
    <div class="comment" id="comment_19410490">
        <span class="comment__folding-dotholder"></span>
        <div class="comment__head   " rel="19410490">
          <a href="https://habr.com/users/lumaxy/" class="user-info user-info_inline"  data-user-login="lumaxy">
    <svg class="default-image default-image_mini default-image_pink" width="24" height="24"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#slug" /></svg>
  <span class="user-info__nickname user-info__nickname_small user-info__nickname_comment">lumaxy</span>
</a>

          
          <time class="comment__date-time comment__date-time_published">24 ноября 2018 в 12:32</time>
          <ul class="inline-list inline-list_comment-nav">
  <li class="inline-list__item inline-list__item_comment-nav">
    <a href="#comment_19410490" class="icon_comment-anchor" title="Ссылка на комментарий"><svg width="12" height="12"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#anchor" /></svg></a>
  </li>

    <li class="inline-list__item inline-list__item_comment-nav">
      <a href="#" class="icon_comment-bookmark " onclick="return comments_add_to_favorite(this)" data-type="3" data-id="19410490" data-action="add" title="Только зарегистрированные пользователи могут добавлять комментарии в избранное" disabled><svg width="12" height="12"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg></a>
    </li>


  <li class="inline-list__item inline-list__item_comment-nav hidden js-comment_children">
    <a href="#comment_19410490" class="icon_comment-arrow-down js-comment_parent back_to_children" data-id="19410490" data-parent_id="0" title="Вернуться к ответу"><svg width="12" height="12"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#rounded-arrow" /></svg></a>
  </li>
</ul>

            <div class="voting-wjt voting-wjt_comments js-comment-vote" data-id="19410490" data-post-target="430006" data-type="3">
    <button type="button" class="btn voting-wjt__button voting-wjt__button_small " data-action="plus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled><svg class="icon-svg_arrow-up" width="10" height="16"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#vote-arrow" /></svg></button>

    <span class="voting-wjt__counter voting-wjt__counter_positive  js-score" title="Общий рейтинг 1: &uarr;1 и &darr;0">+1</span>

    <button type="button" class="btn voting-wjt__button voting-wjt__button_small " data-action="minus" onclick="comment_vote(this);" title="Голосовать могут только зарегистрированные пользователи" disabled><svg class="icon-svg_arrow-down" width="10" height="16"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#vote-arrow" /></svg></button>
  </div>

        </div>

        <div class="comment__message ">О, наконец-то я увидел реальный пример, как обученную модель вывести в прод! Ни в одной прочитанной мной книжке по ML этого почему-то не было. Большое человеческое спасибо!</div>

        <div class="comment__footer">
</div>

        <div class="comment__reply-form js-form_placeholder"></div>
    </div>

    <ul class="content-list content-list_nested-comments content-list_nested-comments-0" id="reply_comments_19410490"></ul>
  </li>

      
    </ul>
    <div class="js-form_placeholder">
              <p class="for_users_only_msg">Только&nbsp;<a href="/info/help/registration/">полноправные пользователи</a> могут оставлять комментарии. <a href="https://habr.com/auth/login/">Войдите</a>, пожалуйста.</p>

    </div>
  </div>


      </div>
    </div>

    <div class="sidebar_right sidebar_content-area">
      <!-- /235032688/HH/HH01_ATF_Poster -->
<div class="dfp-slot dfp-slot_top is_visible">
  <div class="dfp-slot__banner" id="div-gpt-hh-atf">
    <script>
      window.display_dfp_slot('div-gpt-hh-atf');
    </script>
  </div>
  <div class="dfp-slot__placeholder">
  <span class="dfp-slot__placeholder-text">Управляйте расходами на IT-инфраструктуру. Оплачивайте только нужные объёмы вычислительных ресурсов.<br/><br/><a href="https://u.tmtm.ru/cloudmts" class="btn btn_large btn_blue" target="_blank">И как это сделать?</a></span>
</div>
<a href="https://tmtm.ru/services/advertising/" target="_blank" class="dfp-slot__label"></a>

</div>

        
  <div class="default-block default-block_sidebar">
  <div class="default-block__header">
    <span class="default-block__header-title">Информация</span>
  </div>
  <div class="default-block__content default-block__content_profile-summary">
      <ul class="defination-list">
          <li class="defination-list__item defination-list__item_profile-summary">
            <span class="defination-list__label defination-list__label_profile-summary">Дата основания</span>
            <span class="defination-list__value">12 марта 2015 г.</span>
          </li>

          <li class="defination-list__item defination-list__item_profile-summary">
            <span class="defination-list__label defination-list__label_profile-summary">Локация</span>
            <span class="defination-list__value">
              Москва<br/>Россия
            </span>
          </li>

          <li class="defination-list__item defination-list__item_profile-summary">
            <span class="defination-list__label defination-list__label_profile-summary">Сайт</span>
            <span class="defination-list__value"><a href="http://ods.ai/" target="_blank" class="defination-list__link" title="http://ods.ai/">ods.ai</a></span>
          </li>

          <li class="defination-list__item defination-list__item_profile-summary">
            <span class="defination-list__label defination-list__label_profile-summary">Численность</span>
            <span class="defination-list__value">свыше 5000 человек</span>
          </li>

          <li class="defination-list__item defination-list__item_profile-summary">
            <span class="defination-list__label defination-list__label_profile-summary">Дата регистрации</span>
            <span class="defination-list__value">16 февраля 2017 г.</span>
          </li>
      </ul>
  </div>
</div>

  

        <div class="default-block default-block_sidebar">
    <div class="default-block__header">
      <span class="default-block__header-title">Ссылки</span>
    </div>
    <div class="default-block__content">
      <ul class="content-list content-list_company-links">
          <li class="content-list__item content-list__item_company-links company-links">
            <a href="http://ods.ai/" class="company-links__title">Присоединиться к сообществу ODS</a>
            <div class="company-links__link">ods.ai</div>
          </li>
      </div>
    </ul>
  </div>











    <div class="js-ad_sticky">
    <div class="default-block">
      <div class="default-block__header">
        <h3 class="default-block__header-title">Блог на Хабре</h3>
      </div>
      <div class="default-block__content">
        <ul class="content-list">
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/430712/" class="post-info__title">NeurIPS: как покорить лучшую конференцию по ML</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">4,5k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/430712/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">11</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/430006/" class="post-info__title">Data Science проект от исследования до внедрения на примере Говорящей шляпы</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">11,2k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/430006/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">1</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/348260/" class="post-info__title">Совмещение R и Python: зачем, когда и как?</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">9,9k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/348260/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">5</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/426227/" class="post-info__title">Как правильно «фармить» Kaggle</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">29,5k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/426227/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">15</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/424781/" class="post-info__title">Обучение и тестирование нейронных сетей на PyTorch с помощью Ignite</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">9,3k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/424781/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">4</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/424589/" class="post-info__title">Как поступить на PhD программу по машинному обучению</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">16,8k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/424589/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">13</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/418727/" class="post-info__title">Где и как врубиться в эмбеддинги графов</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">13,2k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/418727/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">10</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/422873/" class="post-info__title">Пицца аля-semi-supervised</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">4,2k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/422873/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">3</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/421585/" class="post-info__title">Как казаки retro контест решали</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">4k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/421585/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">1</span>
                </a>
              </div>
            </li>
            <li class="content-list__item content-list__item_devided post-info">
              <a href="https://habr.com/company/ods/blog/343538/" class="post-info__title">Serverless tensorflow на AWS Lambda</a>
              <div class="post-info__meta">
                <span class="post-info__meta-item">
                  <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">5,5k</span>
                </span>

                <a href="https://habr.com/company/ods/blog/343538/#comments" class="post-info__meta-item" rel="nofollow">
                  <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter post-info__meta-counter_small">12</span>
                </a>
              </div>
            </li>
        </ul>
      </div>
    </div>
  </div>

  

    </div>
  </div>

  

  <script type="text/javascript">
    var userLabel = 'reader';
  </script>

        </div>
      </div>

        <div class="layout__row layout__row_promo-blocks">
          <div class="layout__cell">
              <div class="column-wrapper column-wrapper_bottom column-wrapper_bordered">
    <div class="content_left">
      

  <div class="default-block default-block_content">
    <div class="default-block__header default-block__header_large">
      <h2 class="default-block__header-title default-block__header-title_large">Самое читаемое</h2>
    </div>
    <div class="default-block__content default-block__content_most-read" id="broadcast_tabs_posts">
      <ul class="toggle-menu toggle-menu__most-read">
        <li class="toggle-menu__item">
          <a href="#broadcast_posts_today" class="toggle-menu__item-link active" rel="nofollow">Сутки</a>
        </li>
        <li class="toggle-menu__item">
          <a href="#broadcast_posts_week" class="toggle-menu__item-link" rel="nofollow">Неделя</a>
        </li>
        <li class="toggle-menu__item">
          <a href="#broadcast_posts_month" class="toggle-menu__item-link" rel="nofollow">Месяц</a>
        </li>
      </ul>

        <div class="tabs__content tabs__content_reading" id="broadcast_posts_today">
            <ul class="content-list content-list_most-read">
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431764/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Полицейские Калифорнии в течение 7 минут пытались остановить Tesla с заснувшим за рулем водителем</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;72</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">72,6k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">38</span>
                    </span>
                    <a href="https://habr.com/post/431764/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">185</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431824/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">На сайте «М.Видео» случайно открыли информацию по смартфону от «Яндекса» за несколько дней до презентации</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;52</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">42,8k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">19</span>
                    </span>
                    <a href="https://habr.com/post/431824/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">278</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431806/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Palm Phone протестировали: вердикт — разработчики потерпели полное фиаско</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;27</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">27,6k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">7</span>
                    </span>
                    <a href="https://habr.com/post/431806/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">55</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431700/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Бытовой мультиметр, которого я так и не нашел на рынке</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;18</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">53,1k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">70</span>
                    </span>
                    <a href="https://habr.com/post/431700/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">97</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431774/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">В Японии началось телевещание в формате 8K</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;35</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">29,2k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">23</span>
                    </span>
                    <a href="https://habr.com/post/431774/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">142</span>
                    </a>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_week">
            <ul class="content-list content-list_most-read">
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431064/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Манифест жёсткого программиста</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;90</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">57k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">214</span>
                    </span>
                    <a href="https://habr.com/post/431064/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">383</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/company/golovanov_net/blog/431564/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Величайшая ошибка в истории физики</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;33</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">56,4k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">77</span>
                    </span>
                    <a href="https://habr.com/company/golovanov_net/blog/431564/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">168</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431154/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Недоработки в квестах Fallout 76 позволили игрокам устроить ядерный ад</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;31</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">55,6k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">17</span>
                    </span>
                    <a href="https://habr.com/post/431154/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">68</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431354/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Первый видеокодек на машинном обучении кардинально превзошёл все существующие кодеки, в том числе H.265 и VP9</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;58</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">53,9k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">75</span>
                    </span>
                    <a href="https://habr.com/post/431354/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">182</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/431700/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Бытовой мультиметр, которого я так и не нашел на рынке</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;18</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">53,1k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">70</span>
                    </span>
                    <a href="https://habr.com/post/431700/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">97</span>
                    </a>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_month">
            <ul class="content-list content-list_most-read">
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/company/jethackers/blog/429466/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Реактивный самолёт своими руками: «Два дебила — это сила»</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;323</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">199k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">162</span>
                    </span>
                    <a href="https://habr.com/company/jethackers/blog/429466/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">448</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/company/pochtoy/blog/430554/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Google запатентовала VR-обувь, в которой можно ходить вечно</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;26</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">114k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">34</span>
                    </span>
                    <a href="https://habr.com/company/pochtoy/blog/430554/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">103</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/428734/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Ошибка, которая сохранилась в Windows с 1974 года</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;80</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">113k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">118</span>
                    </span>
                    <a href="https://habr.com/post/428734/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">231</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/post/429612/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Фулстеки — это вечные мидлы. Не идите по этому пути, если не хотите страдать</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;161</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">100k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">255</span>
                    </span>
                    <a href="https://habr.com/post/429612/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">724</span>
                    </a>
                  </div>
                </li>
                <li class="content-list__item content-list__item_devided post-info">
                  <a href="https://habr.com/company/pochtoy/blog/429000/" class="post-info__title post-info__title_large" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'most_read', ''); }">Зачем Билл Гейтс изобрел унитаз на $233 млрд</a>
                  <div class="post-info__meta">
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_rating" width="11" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#arrow-bold" /></svg><span class="post-info__meta-counter">&plus;95</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_views" width="16" height="9"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#eye" /></svg><span class="post-info__meta-counter">97,3k</span>
                    </span>
                    <span class="post-info__meta-item">
                      <svg class="post-info__meta-icon icon-svg_bookmark-mini" width="8" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#book" /></svg><span class="post-info__meta-counter">76</span>
                    </span>
                    <a href="https://habr.com/company/pochtoy/blog/429000/#comments" class="post-info__meta-item" rel="nofollow">
                      <svg class="post-info__meta-icon icon-svg_comments" width="14" height="13"><use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#comment" /></svg><span class="post-info__meta-counter">417</span>
                    </a>
                  </div>
                </li>
            </ul>
        </div>
    </div>
  </div>

    </div>

    <div class="sidebar_right">
        <div class="default-block">
  <div class="default-block__header">
    <h2 class="default-block__header-title">Хабр рекомендует</h2>
      <a href="https://tmtm.ru/megapost" class="default-block__header-link" rel="nofollow" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'megapost_promo', 'order'); }">Разместить</a>
  </div>
  <div class="default-block__content">
    <ul class="megapost-teasers megapost-teasers_sidebar">
        <li class="megapost-teasers__item megapost-teasers__item_sidebar teaser">
          <a href="https://u.tmtm.ru/p-obc-p-151118" class="teaser__image" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'megapost_promo', 'article_pic'); }" rel="nofollow">
            <img src="https://habrastorage.org/getpro/tmtm/pictures/5d8/775/3ca/5d87753ca45b2b0afa2404ab8bac60b0.jpg" class="teaser__image-pic"/>
          </a>
          <a href="https://u.tmtm.ru/p-obc-p-151118" class="teaser__body" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'megapost_promo', 'article_title'); }" rel="nofollow">
            <h3 class="teaser__body-title">Премия HighLoad++ 2018 — как это было</h3>
          </a>
        </li>
        <li class="megapost-teasers__item megapost-teasers__item_sidebar teaser">
          <a href="https://u.tmtm.ru/UIsPo" class="teaser__image" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'megapost_promo', 'article_pic'); }" rel="nofollow">
            <img src="https://habrastorage.org/getpro/tmtm/pictures/7e6/75d/83c/7e675d83c552967c2c2d499959fe1ae8.jpg" class="teaser__image-pic"/>
          </a>
          <a href="https://u.tmtm.ru/UIsPo" class="teaser__body" onclick="if (typeof ga === 'function') { ga('send', 'event', 'tm_block', 'megapost_promo', 'article_title'); }" rel="nofollow">
            <h3 class="teaser__body-title">Конференция Контентинг: промокод Habr_online_promo (трансляция + видео)</h3>
          </a>
        </li>
    </ul>
  </div>
</div>

    </div>
  </div>

          </div>
        </div>

      <div class="layout__row layout__row_footer-links">
        <div class="layout__cell">
          <div class="footer-grid footer-grid_menu">
  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">
      Аккаунт
    </h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
          <li class="footer-menu__item">
            <a href="https://habr.com/auth/login/" class="footer-menu__item-link">Войти</a>
          </li>
          <li class="footer-menu__item">
            <a href="https://habr.com/auth/register/" class="footer-menu__item-link">Регистрация</a>
          </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">Разделы</h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
        <li class="footer-menu__item">
          <a href="https://habr.com/posts/top/" class="footer-menu__item-link">Публикации</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habr.com/hubs/" class="footer-menu__item-link">Хабы</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habr.com/companies/" class="footer-menu__item-link">Компании</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habr.com/users/" class="footer-menu__item-link">Пользователи</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://habr.com/sandbox/" class="footer-menu__item-link">Песочница</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">Информация</h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
        <li class="footer-menu__item">
          <a href="/info/help/rules/" class="footer-menu__item-link">Правила</a>
        </li>
        <li class="footer-menu__item">
          <a href="/info/help/" class="footer-menu__item-link">Помощь</a>
        </li>
        <li class="footer-menu__item">
          <a href="/info/topics/madskillz/" class="footer-menu__item-link">Документация</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://id.tmtm.ru/info/agreement/" class="footer-menu__item-link">Соглашение</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://id.tmtm.ru/info/confidential/" class="footer-menu__item-link">Конфиденциальность</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="footer-grid__item footer-block">
    <h3 class="footer-block__title">Услуги</h3>
    <div class="footer-block__content">
      <ul class="footer-menu">
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/services/advertising/" target="_blank" class="footer-menu__item-link">Реклама</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/services/corpblog/" target="_blank" class="footer-menu__item-link">Тарифы</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/services/content/" target="_blank" class="footer-menu__item-link">Контент</a>
        </li>
        <li class="footer-menu__item">
          <a href="https://tmtm.ru/workshops/" target="_blank" class="footer-menu__item-link">Семинары</a>
        </li>
      </ul>
    </div>
  </div>

    <div class="footer-grid__item footer-grid__item_300 footer-block">
      <h3 class="footer-block__title">Приложения</h3>
      <div class="footer-block__content footer-block__content_apps">
        <a href="https://appmetrica.yandex.com/serve/240693928167260216?utm_source=HH_desktop&utm_medium=button&utm_campaign=appiOS" class="footer-menu__app" target="_blank" onclick="if (  typeof ga === 'function') { ga('send', 'event', 'footer', 'links', 'ios_app'); }"><svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="140" height="40" viewBox="0 0 140 40"><path fill="#fff" d="M0 0h140v40h-140z"/><path d="M139.387 35.99c0 2.215-1.794 4.01-4.014 4.01h-131.354c-2.218 0-4.019-1.794-4.019-4.01v-31.975c0-2.214 1.801-4.015 4.019-4.015h131.353c2.22 0 4.014 1.801 4.014 4.015l.001 31.975z"/><path fill="#fff" d="M30.609 19.78c-.03-3.374 2.763-5.016 2.89-5.092-1.582-2.306-4.034-2.621-4.895-2.647-2.059-.217-4.057 1.232-5.106 1.232-1.07 0-2.685-1.211-4.426-1.176-2.24.035-4.336 1.332-5.486 3.346-2.372 4.107-.603 10.142 1.67 13.462 1.137 1.626 2.465 3.441 4.204 3.377 1.701-.07 2.337-1.085 4.39-1.085 2.034 0 2.631 1.085 4.404 1.044 1.826-.029 2.975-1.633 4.072-3.274 1.314-1.863 1.841-3.699 1.862-3.793-.041-.013-3.544-1.35-3.579-5.394zM27.259 9.858c.915-1.144 1.541-2.701 1.367-4.281-1.324.059-2.981.916-3.934 2.035-.844.986-1.598 2.603-1.403 4.123 1.488.111 3.015-.751 3.97-1.877zM55.229 32.05h-2.378l-1.302-4.092h-4.527l-1.241 4.092h-2.315l4.485-13.932h2.77l4.508 13.932zm-4.072-5.809l-1.178-3.638c-.125-.372-.358-1.247-.702-2.625h-.042c-.137.593-.358 1.468-.662 2.625l-1.157 3.638h3.741zM66.763 26.903c0 1.709-.462 3.059-1.385 4.05-.827.883-1.854 1.323-3.08 1.323-1.323 0-2.274-.475-2.853-1.426h-.042v5.292h-2.232v-10.831c0-1.074-.028-2.177-.083-3.307h1.963l.125 1.592h.042c.744-1.2 1.874-1.799 3.39-1.799 1.185 0 2.174.468 2.966 1.405.793.938 1.189 2.172 1.189 3.701zm-2.274.082c0-.978-.22-1.784-.662-2.418-.483-.662-1.131-.992-1.943-.992-.551 0-1.051.184-1.498.548-.448.366-.741.845-.878 1.437-.069.276-.104.503-.104.68v1.675c0 .731.224 1.347.672 1.851s1.03.755 1.746.755c.841 0 1.495-.325 1.963-.972.47-.648.704-1.503.704-2.564zM78.318 26.903c0 1.709-.462 3.059-1.386 4.05-.826.883-1.853 1.323-3.079 1.323-1.323 0-2.274-.475-2.852-1.426h-.042v5.292h-2.232v-10.831c0-1.074-.028-2.177-.083-3.307h1.963l.125 1.592h.042c.743-1.2 1.873-1.799 3.39-1.799 1.184 0 2.173.468 2.967 1.405.79.938 1.187 2.172 1.187 3.701zm-2.274.082c0-.978-.221-1.784-.663-2.418-.483-.662-1.129-.992-1.942-.992-.552 0-1.051.184-1.499.548-.448.366-.74.845-.877 1.437-.068.276-.104.503-.104.68v1.675c0 .731.224 1.347.67 1.851.448.503 1.03.755 1.748.755.841 0 1.495-.325 1.963-.972.469-.648.704-1.503.704-2.564zM91.236 28.143c0 1.185-.411 2.149-1.237 2.894-.908.813-2.171 1.22-3.795 1.22-1.499 0-2.701-.289-3.611-.868l.517-1.86c.98.593 2.055.89 3.227.89.841 0 1.495-.191 1.965-.57.468-.379.701-.888.701-1.522 0-.565-.193-1.042-.579-1.428-.384-.386-1.026-.745-1.922-1.077-2.439-.91-3.658-2.242-3.658-3.995 0-1.145.427-2.084 1.282-2.815.852-.732 1.989-1.097 3.411-1.097 1.268 0 2.321.221 3.162.662l-.558 1.82c-.785-.427-1.673-.641-2.666-.641-.785 0-1.399.194-1.838.579-.372.344-.558.764-.558 1.262 0 .551.213 1.006.64 1.364.372.331 1.047.689 2.027 1.075 1.199.483 2.079 1.047 2.646 1.694.563.642.844 1.45.844 2.413zM98.616 23.679h-2.46v4.878c0 1.241.433 1.86 1.302 1.86.399 0 .73-.035.991-.104l.062 1.695c-.44.164-1.019.247-1.736.247-.881 0-1.57-.269-2.068-.806-.495-.538-.744-1.441-.744-2.708v-5.064h-1.466v-1.675h1.466v-1.839l2.192-.662v2.501h2.46l.001 1.677zM109.716 26.944c0 1.544-.442 2.812-1.323 3.803-.924 1.021-2.151 1.53-3.681 1.53-1.474 0-2.648-.489-3.523-1.467s-1.313-2.212-1.313-3.7c0-1.557.45-2.832 1.354-3.823.901-.992 2.118-1.489 3.647-1.489 1.474 0 2.66.489 3.555 1.468.857.95 1.284 2.176 1.284 3.678zm-2.315.072c0-.927-.198-1.721-.599-2.384-.468-.802-1.137-1.202-2.004-1.202-.897 0-1.579.401-2.047 1.202-.401.664-.599 1.471-.599 2.426 0 .927.198 1.721.599 2.383.483.802 1.157 1.202 2.027 1.202.852 0 1.521-.408 2.004-1.223.411-.675.619-1.478.619-2.404zM116.971 23.967c-.221-.041-.456-.062-.704-.062-.785 0-1.392.296-1.82.89-.372.523-.558 1.185-.558 1.984v5.271h-2.231l.021-6.882c0-1.158-.028-2.212-.084-3.163h1.944l.082 1.922h.062c.236-.661.607-1.192 1.116-1.591.497-.359 1.034-.538 1.613-.538.206 0 .393.015.558.041l.001 2.128zM126.954 26.552c0 .4-.026.737-.082 1.012h-6.696c.026.992.35 1.751.972 2.275.564.468 1.294.702 2.19.702.991 0 1.896-.158 2.709-.475l.35 1.549c-.951.415-2.073.621-3.368.621-1.558 0-2.781-.459-3.67-1.375s-1.333-2.146-1.333-3.689c0-1.515.414-2.776 1.242-3.782.867-1.074 2.038-1.611 3.512-1.611 1.448 0 2.544.537 3.288 1.611.589.853.886 1.908.886 3.162zm-2.129-.579c.015-.662-.131-1.233-.433-1.716-.386-.621-.98-.931-1.779-.931-.73 0-1.323.303-1.777.91-.372.483-.593 1.062-.661 1.736l4.649.001zM44.529 6.682c.238-.142.506-.262.807-.36s.654-.148 1.062-.148c.656 0 1.174.156 1.553.467s.568.731.568 1.259c0 .42-.127.772-.38 1.056s-.578.474-.97.568v.03c.217.035.422.093.615.178s.363.198.508.34c.146.142.261.308.345.498.084.189.127.399.127.63 0 .379-.076.697-.229.955s-.352.467-.599.63c-.246.162-.522.28-.827.35s-.609.107-.914.107c-.326 0-.647-.035-.965-.102s-.612-.179-.884-.335l.274-.843c.176.088.403.173.68.254.277.082.558.121.843.121.467 0 .828-.105 1.081-.314.253-.21.381-.491.381-.843 0-.238-.051-.431-.153-.584-.103-.153-.235-.272-.397-.361-.162-.088-.343-.149-.543-.182s-.398-.051-.594-.051h-.457v-.831h.457c.209 0 .404-.026.584-.082.179-.053.335-.13.467-.228s.236-.216.31-.351c.073-.135.111-.288.111-.457 0-.305-.109-.543-.326-.716s-.508-.26-.873-.26c-.25 0-.501.041-.752.121-.25.082-.474.17-.671.264l-.239-.78zM53.251 13.131l-.081-.568h-.03c-.331.453-.811.68-1.442.68-.224 0-.426-.038-.609-.112s-.342-.176-.477-.305c-.136-.129-.24-.281-.315-.457-.074-.176-.111-.37-.111-.579 0-.616.25-1.078.752-1.386s1.211-.462 2.133-.462v-.091c0-.65-.341-.975-1.024-.975-.487 0-.916.122-1.287.365l-.223-.72c.453-.284 1.018-.426 1.693-.426 1.291 0 1.937.68 1.937 2.041v1.817c0 .508.024.9.071 1.178h-.986zm-.152-2.457c-.612 0-1.069.077-1.368.233s-.449.41-.449.762c0 .258.07.45.211.579s.32.193.536.193c.141 0 .275-.025.404-.076.128-.05.24-.12.337-.208.098-.088.177-.195.239-.32.061-.126.09-.259.09-.401v-.762zM59.457 8.196v.904h-2.052v4.032h-1.096v-4.936h3.148zM65.732 10.603c0 .393-.054.752-.162 1.076-.109.326-.259.603-.452.832-.193.23-.423.41-.69.538-.268.129-.563.194-.889.194-.65 0-1.117-.233-1.402-.7h-.021v2.599h-1.097v-5.321l-.01-.798-.029-.828h.964l.062.782h.021c.365-.588.92-.884 1.666-.884.29 0 .56.061.807.182.247.122.462.293.645.513s.327.484.431.793c.103.309.156.649.156 1.022zm-1.116.041c0-.244-.029-.469-.087-.675s-.142-.382-.253-.528-.247-.261-.406-.345c-.159-.085-.337-.127-.534-.127-.155 0-.308.035-.457.102-.15.067-.28.159-.39.274-.112.115-.201.254-.269.417s-.103.335-.103.518v.823c0 .182.028.352.087.508s.138.291.243.406.23.205.376.269c.146.065.306.096.482.096.414 0 .735-.157.965-.472.229-.316.346-.739.346-1.266zM71.624 8.196l-1.25 3.422c-.297.812-.587 1.477-.868 1.995s-.55.895-.807 1.133c-.379.338-.782.545-1.209.619l-.264-.923c.284-.074.555-.22.812-.437s.463-.487.62-.812l.081-.223-.061-.233-1.788-4.54h1.208l.935 2.752.142.437.153.538h.021l.111-.411.162-.574.833-2.742 1.168-.001zM73.523 10.247h.507c.372 0 .661-.067.863-.203s.305-.302.305-.498c0-.203-.086-.365-.26-.487-.172-.121-.411-.183-.716-.183-.197 0-.395.032-.593.096-.2.065-.384.144-.554.239l-.284-.71c.284-.155.566-.262.849-.319.281-.058.562-.087.847-.087.225 0 .45.022.676.066.225.044.427.118.603.223s.321.242.431.411c.112.17.168.379.168.63 0 .156-.03.293-.092.411-.06.118-.141.223-.243.314s-.215.166-.339.223c-.125.058-.253.101-.38.128v.03c.161.021.319.062.472.122.152.061.288.14.411.239.12.098.219.217.294.355.073.139.11.296.11.472 0 .291-.069.535-.213.731-.141.197-.323.352-.544.467-.219.115-.462.198-.726.249s-.521.076-.771.076c-.305 0-.607-.032-.903-.096-.298-.065-.566-.164-.804-.299l.286-.721c.176.095.376.175.603.239s.459.096.695.096c.372 0 .659-.072.858-.218.198-.146.298-.327.298-.543 0-.142-.032-.262-.101-.36-.068-.098-.163-.178-.284-.239-.122-.061-.264-.104-.427-.127-.161-.024-.339-.036-.528-.036h-.517v-.691zM79.381 8.196v1.746c0 .4-.006.759-.021 1.076l-.051 1.005.021.02.38-.757.382-.757 1.219-2.336h1.421v4.935h-1.036v-1.746c0-.365.01-.731.026-1.096l.055-1.108h-.051c-.114.305-.229.568-.345.793l-.343.691-.626 1.219c-.206.406-.425.823-.654 1.249h-1.421v-4.934h1.044zM88.521 8.196v.904h-1.502v4.032h-1.079v-4.032h-1.493v-.904h4.074zM94.115 10.43l-.01.269-.03.228h-3.29c.015.467.161.828.442 1.081s.652.381 1.112.381c.481 0 .924-.077 1.331-.233l.172.762c-.468.203-1.019.305-1.656.305-.384 0-.73-.06-1.034-.178-.305-.118-.562-.286-.773-.503-.208-.217-.371-.477-.483-.782-.11-.305-.165-.646-.165-1.025s.055-.73.165-1.051c.112-.321.27-.601.472-.838.204-.238.45-.423.736-.559.288-.135.609-.203.961-.203.311 0 .593.055.849.168.253.111.47.27.648.477.18.206.317.454.411.741s.142.609.142.96zm-1.047-.283c0-.386-.092-.699-.278-.939s-.455-.361-.807-.361c-.319 0-.588.121-.811.365s-.352.555-.386.935h2.282zM98.534 8.237c.197-.033.446-.061.751-.082s.616-.03.935-.03c.202 0 .431.013.685.036s.497.077.726.162c.231.085.423.211.579.381s.236.399.236.69c0 .15-.028.284-.082.401-.055.118-.127.222-.219.31s-.197.161-.315.218c-.118.058-.241.101-.371.127l.01.03c.358.061.65.189.873.386s.335.467.335.812c0 .345-.096.62-.284.823-.191.203-.423.356-.701.457s-.571.166-.879.194c-.307.026-.583.041-.826.041-.272 0-.538-.006-.798-.021l-.654-.041v-4.894zm1.056 1.97h.558c.17 0 .331-.012.483-.036.153-.023.286-.061.401-.111.116-.051.204-.118.27-.203.064-.085.096-.187.096-.31 0-.223-.092-.387-.281-.492-.186-.105-.478-.157-.877-.157l-.3.01-.35.03v1.269zm0 2.183l.339.03.321.01c.15 0 .3-.009.456-.03.155-.02.298-.059.427-.116s.231-.134.309-.232c.077-.097.118-.227.118-.388 0-.283-.127-.477-.376-.585-.251-.108-.588-.161-1.017-.161h-.577v1.472z"/></svg></a>

        <a href="https://appmetrica.yandex.com/serve/745097116363323173?id=ru.habrahabr&utm_source=HH_desktop&utm_medium=button&utm_campaign=appAndroid" class="footer-menu__app" target="_blank" onclick="if (typeof ga === 'function') { ga('send', 'event', 'footer', 'links', 'android_app'); }"><svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="135" height="40" viewBox="0 0 135 40"><path d="M130 40h-125c-2.75 0-5-2.25-5-5v-30c0-2.75 2.25-5 5-5h125c2.75 0 5 2.25 5 5v30c0 2.75-2.25 5-5 5z"/><path fill="#fff" d="M68.136 21.752c-2.352 0-4.269 1.788-4.269 4.253 0 2.449 1.917 4.253 4.269 4.253 2.352 0 4.269-1.804 4.269-4.253 0-2.465-1.917-4.253-4.269-4.253zm0 6.83c-1.289 0-2.401-1.063-2.401-2.578 0-1.531 1.112-2.578 2.401-2.578 1.289 0 2.4 1.047 2.4 2.578 0 1.515-1.111 2.578-2.4 2.578zm-9.314-6.83c-2.352 0-4.269 1.788-4.269 4.253 0 2.449 1.917 4.253 4.269 4.253 2.352 0 4.269-1.804 4.269-4.253.001-2.465-1.916-4.253-4.269-4.253zm0 6.83c-1.289 0-2.4-1.063-2.4-2.578 0-1.531 1.112-2.578 2.4-2.578 1.289 0 2.4 1.047 2.4 2.578.001 1.515-1.111 2.578-2.4 2.578zm-11.078-5.525v1.804h4.318c-.129 1.015-.467 1.756-.983 2.272-.628.628-1.611 1.321-3.335 1.321-2.658 0-4.736-2.143-4.736-4.801s2.078-4.801 4.736-4.801c1.434 0 2.481.564 3.254 1.289l1.273-1.273c-1.079-1.031-2.513-1.82-4.527-1.82-3.641 0-6.702 2.964-6.702 6.605 0 3.641 3.061 6.605 6.702 6.605 1.966 0 3.448-.644 4.608-1.853 1.192-1.192 1.563-2.868 1.563-4.221 0-.419-.032-.806-.097-1.128h-6.074zm45.308 1.401c-.354-.95-1.434-2.706-3.641-2.706-2.191 0-4.011 1.724-4.011 4.253 0 2.384 1.804 4.253 4.221 4.253 1.949 0 3.077-1.192 3.544-1.885l-1.45-.967c-.483.709-1.144 1.176-2.094 1.176-.951 0-1.627-.435-2.062-1.289l5.687-2.352-.194-.483zm-5.8 1.418c-.048-1.643 1.273-2.481 2.223-2.481.741 0 1.369.371 1.579.902l-3.802 1.579zm-4.623 4.124h1.869v-12.501h-1.869v12.501zm-3.062-7.298h-.064c-.419-.499-1.224-.951-2.239-.951-2.127 0-4.076 1.869-4.076 4.269 0 2.384 1.949 4.237 4.076 4.237 1.015 0 1.82-.451 2.239-.967h.064v.612c0 1.627-.87 2.497-2.272 2.497-1.144 0-1.853-.822-2.143-1.514l-1.627.677c.467 1.128 1.708 2.513 3.77 2.513 2.191 0 4.044-1.289 4.044-4.43v-7.636h-1.772v.693zm-2.142 5.88c-1.289 0-2.368-1.079-2.368-2.562 0-1.498 1.079-2.594 2.368-2.594 1.273 0 2.272 1.096 2.272 2.594-.001 1.483-.999 2.562-2.272 2.562zm24.381-11.083h-4.471v12.501h1.865v-4.736h2.606c2.068 0 4.101-1.497 4.101-3.882s-2.033-3.883-4.101-3.883zm.048 6.025h-2.654v-4.285h2.654c1.395 0 2.187 1.155 2.187 2.143 0 .968-.792 2.142-2.187 2.142zm11.532-1.795c-1.351 0-2.75.595-3.329 1.914l1.657.692c.354-.692 1.013-.917 1.705-.917.965 0 1.946.579 1.962 1.608v.129c-.338-.193-1.062-.483-1.946-.483-1.785 0-3.603.981-3.603 2.815 0 1.673 1.464 2.75 3.104 2.75 1.255 0 1.946-.563 2.38-1.222h.064v.965h1.801v-4.793c0-2.22-1.656-3.458-3.795-3.458zm-.225 6.851c-.611 0-1.464-.306-1.464-1.062 0-.965 1.062-1.335 1.978-1.335.82 0 1.206.177 1.705.418-.145 1.159-1.142 1.979-2.219 1.979zm10.582-6.578l-2.139 5.42h-.064l-2.219-5.42h-2.01l3.329 7.575-1.898 4.214h1.946l5.131-11.789h-2.076zm-16.807 7.998h1.866v-12.501h-1.866v12.501z"/><linearGradient id="a" gradientUnits="userSpaceOnUse" x1="21.8" y1="33.29" x2="5.017" y2="16.508" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#00A0FF"/><stop offset=".007" stop-color="#00A1FF"/><stop offset=".26" stop-color="#00BEFF"/><stop offset=".512" stop-color="#00D2FF"/><stop offset=".76" stop-color="#00DFFF"/><stop offset="1" stop-color="#00E3FF"/></linearGradient><path fill="url(#a)" d="M10.435 7.538c-.291.308-.463.786-.463 1.405v22.116c0 .62.172 1.097.463 1.405l.074.072 12.389-12.389v-.292l-12.389-12.39-.074.073z"/><linearGradient id="b" gradientUnits="userSpaceOnUse" x1="33.834" y1="21.999" x2="9.637" y2="21.999" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#FFE000"/><stop offset=".409" stop-color="#FFBD00"/><stop offset=".775" stop-color="#FFA500"/><stop offset="1" stop-color="#FF9C00"/></linearGradient><path fill="url(#b)" d="M27.028 24.278l-4.129-4.131v-.292l4.13-4.13.093.053 4.893 2.78c1.398.794 1.398 2.093 0 2.888l-4.893 2.78-.094.052z"/><linearGradient id="c" gradientUnits="userSpaceOnUse" x1="24.827" y1="19.704" x2="2.069" y2="-3.054" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#FF3A44"/><stop offset="1" stop-color="#C31162"/></linearGradient><path fill="url(#c)" d="M27.122 24.225l-4.224-4.224-12.463 12.463c.461.488 1.221.548 2.078.061l14.609-8.3"/><linearGradient id="d" gradientUnits="userSpaceOnUse" x1="7.297" y1="41.824" x2="17.46" y2="31.661" gradientTransform="matrix(1 0 0 -1 0 42)"><stop offset="0" stop-color="#32A071"/><stop offset=".069" stop-color="#2DA771"/><stop offset=".476" stop-color="#15CF74"/><stop offset=".801" stop-color="#06E775"/><stop offset="1" stop-color="#00F076"/></linearGradient><path fill="url(#d)" d="M27.122 15.777l-14.608-8.3c-.857-.487-1.617-.426-2.078.061l12.463 12.463 4.223-4.224z"/><path opacity=".2" enable-background="new" d="M27.029 24.132l-14.515 8.247c-.812.461-1.538.431-2.004.011l-.075.075.074.072c.466.42 1.192.451 2.004-.011l14.608-8.3-.092-.094z"/><path opacity=".12" enable-background="new" d="M10.435 32.318c-.291-.308-.463-.786-.463-1.405v.146c0 .619.172 1.097.463 1.405l.075-.075-.075-.071zM32.015 21.299l-4.986 2.833.093.093 4.893-2.78c.699-.397 1.048-.92 1.048-1.443-.059.473-.415.937-1.048 1.297z"/><path opacity=".25" fill="#fff" enable-background="new" d="M12.514 7.623l19.501 11.08c.634.36.989.824 1.048 1.298 0-.523-.349-1.047-1.048-1.444l-19.501-11.08c-1.398-.794-2.541-.135-2.541 1.466v.147c0-1.601 1.143-2.261 2.541-1.467z"/><g fill="#fff" stroke="#fff" stroke-width=".2" stroke-miterlimit="10"><path d="M42.114 14.273h-.737v-2.011h.587c.519-.447.773-1.212.763-2.296v-2.966h4.006v5.263h.67v2.011h-.737v-1.274h-4.551v1.273zm1.383-4.306c.012.949-.179 1.715-.569 2.296h3.033v-4.526h-2.464v2.23zM53.415 12.225c-.59.607-1.323.909-2.2.909-.877 0-1.61-.303-2.199-.909-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.607 1.322-.91 2.199-.91.872 0 1.604.305 2.196.914.592.609.888 1.349.888 2.221-.001.877-.296 1.619-.884 2.225zm-3.831-.503c.444.45.987.674 1.63.674.642 0 1.187-.225 1.63-.674.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722c-.443-.45-.987-.674-1.63-.674-.643 0-1.186.225-1.63.674-.443.45-.666 1.024-.666 1.722s.223 1.273.666 1.722zM58.179 13.134c-.883 0-1.623-.299-2.221-.896-.598-.598-.896-1.344-.896-2.238s.298-1.64.896-2.237c.598-.598 1.338-.897 2.221-.897.904 0 1.64.327 2.204.981l-.537.52c-.407-.509-.964-.763-1.667-.763-.654 0-1.206.221-1.655.662-.45.441-.675 1.02-.675 1.734s.225 1.293.675 1.734c.449.441 1.001.662 1.655.662.721 0 1.335-.29 1.844-.871l.536.536c-.274.33-.617.591-1.031.783-.413.194-.863.29-1.349.29zM63.677 13h-.771v-5.263h-1.676v-.737h4.123v.737h-1.676v5.263zM70.646 7l-2.271 5.061c-.313.715-.779 1.072-1.399 1.072-.185 0-.383-.044-.596-.134l.201-.712c.129.073.263.109.402.109.179 0 .317-.035.415-.104.098-.07.188-.197.272-.381l.218-.478-2.017-4.433h.905l1.483 3.444h.033l1.449-3.444h.905zM71.52 13v-6h4.341v6h-.771v-5.263h-2.8v5.263h-.77zM77.234 13v-6h.771v2.572h3v-2.572h.771v6h-.771v-2.707h-3v2.707h-.771zM88.058 12.225c-.59.607-1.323.909-2.2.909-.877 0-1.61-.303-2.199-.909-.59-.606-.884-1.348-.884-2.225s.294-1.619.884-2.225c.589-.607 1.322-.91 2.199-.91.872 0 1.604.305 2.196.914.592.609.888 1.349.888 2.221-.001.877-.296 1.619-.884 2.225zm-3.83-.503c.444.45.987.674 1.63.674s1.187-.225 1.63-.674c.444-.45.667-1.024.667-1.722s-.223-1.273-.667-1.722c-.443-.45-.987-.674-1.63-.674s-1.186.225-1.63.674c-.443.45-.666 1.024-.666 1.722s.222 1.273.666 1.722zM92.094 13v-6h2.17c.47 0 .876.155 1.22.465.344.311.516.7.516 1.169 0 .285-.074.537-.223.754-.147.218-.345.383-.591.495v.033c.296.101.539.274.729.519.189.246.285.531.285.855 0 .492-.181.899-.541 1.223-.36.325-.786.487-1.278.487h-2.287zm.77-3.428h1.399c.291 0 .524-.096.7-.289.176-.192.264-.403.264-.632s-.085-.439-.256-.628c-.17-.19-.395-.285-.674-.285h-1.434v1.834zm0 2.691h1.551c.296 0 .536-.104.721-.311.185-.206.276-.433.276-.679 0-.246-.095-.47-.285-.674-.189-.204-.438-.306-.746-.306h-1.517v1.97z"/></g></svg></a>
      </div>
    </div>
</div>

        </div>
      </div>

      <div class="layout__row layout__row_footer">
        <div class="layout__cell">
          <div class="footer-grid footer">
  <div class="footer-grid__item footer-grid__item_copyright">
    <span class="footer__logo"><svg class="icon-svg icon-svg_tmtm" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="32" height="32" viewBox="0 0 32 32"><path fill="#b12b51" d="M0 0v32h23.637l4.175-4.189-4.175 4.175v-8.358h8.358l-4.184 4.184 4.189-4.184v-23.628h-32zm14.653 14.148h-2.088v5.127h-2.106v-5.127h-2.089v-1.423h6.282v1.423zm8.977 1.852v3.275h-2.048v-4.065l-1.487 2.683h-.922l-1.487-2.683v4.065h-1.989v-6.55h2.28l1.686 2.975 1.686-2.975h2.281v3.275z"/><path fill="#fff" d="M8.37 14.148h2.088v5.127h2.106v-5.127h2.089v-1.423h-6.283zM22.264 12.725h-.915l-1.686 2.975-1.686-2.975h-2.28v6.55h1.989v-4.065l1.487 2.683h.922l1.487-2.683v4.065h2.048v-6.55h-.649z"/><path fill="#dc82a0" d="M23.637 23.628v8.358l8.358-8.358z"/></svg></span>
    <span class="footer__copyright">&copy; 2006 &ndash; 2018 «<a href="https://tmtm.ru/" class="footer__link">TM</a>»</span>
  </div>
  <div class="footer-grid__item footer-grid__item_link">
      <a href="/info/about/" class="footer__link">О сайте</a>
  </div>
  <div class="footer-grid__item footer-grid__item_link">
    <a href="https://habr.com/feedback/" class="footer__link">Служба поддержки</a>
  </div>
  <div class="footer-grid__item footer-grid__item_link">
      <a href="https://m.habr.com/post/430006/?mobile=yes" class="footer__link">Мобильная версия</a>
  </div>

  <div class="footer-grid__item footer-grid__item_social">
    <ul class="social-icons">
      <li class="social-icons__item">
        <a href="https://twitter.com/habr_com"
          class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_twitter"
          target="_blank"
          onclick="if (typeof ga === 'function') { ga('send', 'event', 'footer', 'Social_icons', 'twitter'); }"
        >
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.414 8.642c-.398.177-.826.296-1.276.35.459-.275.811-.71.977-1.229-.43.254-.905.439-1.41.539-.405-.432-.982-.702-1.621-.702-1.227 0-2.222.994-2.222 2.222 0 .174.019.344.058.506-1.846-.093-3.484-.978-4.579-2.322-.191.328-.301.71-.301 1.117 0 .77.392 1.45.988 1.849-.363-.011-.706-.111-1.006-.278v.028c0 1.077.766 1.974 1.782 2.178-.187.051-.383.078-.586.078-.143 0-.282-.014-.418-.04.282.882 1.103 1.525 2.075 1.542-.76.596-1.718.951-2.759.951-.179 0-.356-.01-.53-.031.983.63 2.15.998 3.406.998 4.086 0 6.321-3.386 6.321-6.321l-.006-.287c.433-.314.81-.705 1.107-1.15z"/></svg>
        </a>
      </li>
      <li class="social-icons__item">
        <a href="https://www.facebook.com/habrahabr.ru"
          class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_facebook"
          target="_blank"
          onclick="if (typeof ga === 'function') { ga('send', 'event', 'footer', 'Social_icons', 'facebook'); }"
        >
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M14.889 8.608h-1.65c-.195 0-.413.257-.413.6v1.192h2.063v1.698h-2.063v5.102h-1.948v-5.102h-1.766v-1.698h1.766v-1c0-1.434.995-2.6 2.361-2.6h1.65v1.808z"/></svg>
        </a>
      </li>
        <li class="social-icons__item">
          <a href="https://vk.com/habr"
            class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_vkontakte"
            target="_blank"
            onclick="if (typeof ga === 'function') { ga('send', 'event', 'footer', 'Social_icons', 'vkontakte'); }"
          >
            <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M16.066 11.93s1.62-2.286 1.782-3.037c.054-.268-.064-.418-.343-.418h-1.406c-.322 0-.44.139-.537.343 0 0-.76 1.619-1.685 2.64-.297.33-.448.429-.612.429-.132 0-.193-.11-.193-.408v-2.607c0-.365-.043-.472-.343-.472h-2.254c-.172 0-.279.1-.279.236 0 .343.526.421.526 1.352v1.921c0 .386-.022.537-.204.537-.483 0-1.631-1.663-2.274-3.552-.129-.386-.268-.494-.633-.494h-1.406c-.204 0-.354.139-.354.343 0 .375.44 2.114 2.167 4.442 1.159 1.566 2.683 2.414 4.056 2.414.838 0 1.041-.139 1.041-.494v-1.202c0-.301.118-.429.29-.429.193 0 .534.062 1.33.848.945.901 1.01 1.276 1.525 1.276h1.578c.161 0 .311-.075.311-.343 0-.354-.462-.987-1.17-1.738-.29-.386-.762-.805-.912-.998-.215-.226-.151-.354-.001-.59z"/></svg>
          </a>
        </li>
      <li class="social-icons__item">
        <a href="https://telegram.me/habr_com"
          class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_telegram"
          target="_blank"
          onclick="if (typeof ga === 'function') { ga('send', 'event', 'footer', 'Social_icons', 'telegram'); }"
        >
          <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M17.17 7.621l-10.498 3.699c-.169.059-.206.205-.006.286l2.257.904 1.338.536 6.531-4.796s.189.057.125.126l-4.68 5.062-.27.299.356.192 2.962 1.594c.173.093.397.016.447-.199.058-.254 1.691-7.29 1.728-7.447.047-.204-.087-.328-.291-.256zm-6.922 8.637c0 .147.082.188.197.084l1.694-1.522-1.891-.978v2.416z"/></svg>
        </a>
      </li>
        <li class="social-icons__item">
          <a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w"
            class="social-icons__item-link social-icons__item-link_normal social-icons__item-link_youtube"
            target="_blank"
            onclick="if (typeof ga === 'function') { ga('send', 'event', 'footer', 'Social_icons', 'youtube'); }"
          >
            <svg class="icon-svg" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="32" height="32" viewBox="0 0 32 32"><path d="M3.2 0h25.6c1.767 0 3.2 1.433 3.2 3.2v25.6c0 1.767-1.433 3.2-3.2 3.2h-25.6c-1.767 0-3.2-1.433-3.2-3.2v-25.6c0-1.767 1.433-3.2 3.2-3.2zm18.133 16l-10.667-5.333v10.667l10.667-5.333z"/></svg>

          </a>
        </li>
    </ul>
  </div>
</div>

        </div>
      </div>

      <a href="#" class="layout__elevator hidden" id="scroll_to_top" title="Наверх"  onclick="if (typeof ga === 'function') { ga('send', 'event', 'navigation_button', 'down'); }">
        <svg class="icon-svg icon-svg_scroll-up" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm8.412 19.523c-.517.512-1.355.512-1.872 0L16 13.516l-6.54 6.01c-.518.51-1.356.51-1.873 0-.516-.513-.517-1.343 0-1.855l7.476-7.326c.517-.512 1.356-.512 1.873 0l7.476 7.327c.516.513.516 1.342 0 1.854z"/></svg>
      </a>
    </div>

    <div class="overlay hidden" id="js-lang_settings">
  <div class="popup">
    <div class="popup__head popup__head_lang-settings">
      <span class="popup__head-title">Настройка языка</span>
      <button type="button" class="btn btn_small btn_popup-close js-hide_lang_settings">
        <svg class="icon-svg" width="12" height="12">
          <use xlink:href="https://habr.com/images/1543570818/common-svg-sprite.svg#close" />
        </svg>
      </button>
    </div>
    <div class="popup__body">
      <form action="" method="GET" class="form form_lang-settings" id="lang-settings-form">
        <fieldset class="form__fieldset form__fieldset_thin">
          <legend class="form__legend form__legend_lang-settings">Интерфейс</legend>
            <div class="form-field form-field_lang-settings">
              <label class="radio radio_custom ">
                <input type="radio" name="hl" class="radio__input" value="ru_RU" checked>
                <span class="radio__label radio__label_another">русский</span>
              </label>
            </div>
            <div class="form-field form-field_lang-settings">
              <label class="radio radio_custom ">
                <input type="radio" name="hl" class="radio__input" value="en_US" >
                <span class="radio__label radio__label_another">английский</span>
              </label>
            </div>
        </fieldset>

        <fieldset class="form__fieldset form__fieldset_thin">
          <legend class="form__legend form__legend_lang-settings">Язык публикаций</legend>
            <div class="form-field form-field_lang-settings">
              <label class="checkbox checkbox_custom">
                <input type="checkbox" name="fl" class="checkbox__input" value="ru" checked>
                <span class="checkbox__label checkbox__label_another">русский</span>
              </label>
            </div>
            <div class="form-field form-field_lang-settings">
              <label class="checkbox checkbox_custom">
                <input type="checkbox" name="fl" class="checkbox__input" value="en" checked>
                <span class="checkbox__label checkbox__label_another">английский</span>
              </label>
            </div>
        </fieldset>

        <div class="form__footer form__footer_lang-settings">
          <button type="submit" class="btn btn_blue btn_huge btn_full-width">Сохранить настройки</button>
        </div>
      </form>
    </div>
  </div>
</div>



    <script type="text/javascript">
  // global vars
  var g_base_url = 'habr.com';
  var g_base_fullurl = 'https://habr.com/';
  var g_tmid_fullurl = 'https://id.tmtm.ru/';
  var g_is_guest = false;
  var g_show_xpanel = false;
  var g_is_enableShortcuts = '1';
    var g_current_hl = 'ru_RU';

</script>

    <script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/vendors.bundle.js"></script>
    <script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/main.bundle.js"></script>
      <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    showProcessingMessages: false,
    showMathMenu: true,
    tex2jax: {
      inlineMath: [['$inline$','$inline$']],
      displayMath: [['$$display$$','$$display$$']],
      processEscapes: true
    },
    MathMenu: {
      showRenderer: true,
      showContext:  true
    }
  });

  MathJax.Extension.Img2jax = {
    PreProcess: function (element) {
      var hasMath = false;
      var images = element.querySelectorAll('[data-tex]');
      for (var i = images.length - 1; i >= 0; i--) {
        var img = images[i];
        var tex = img.alt.replace(/(\r\n|\n|\r)/gm, " ");
        if (tex && tex[0] === '$'){
          var script = document.createElement("script"); script.type = "math/tex";
          hasMath = true;
          if (img.getAttribute('data-tex') == "display"){script.type += ";mode=display"}
          MathJax.HTML.setScript(script, tex.substring(1,tex.length-1));
          img.parentNode.replaceChild(script,img);
        }
      }
    }
  };

  MathJax.Hub.Register.PreProcessor(["PreProcess", MathJax.Extension.Img2jax]);
</script>

<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_SVG-full&locale=ru">
</script>

  <script type="text/javascript" src="https://dr.habracdn.net/habrcom/javascripts/1543570818/libs/highlight.pack.js"></script>
  <script type="text/javascript" src="https://dr.habracdn.net/habrcom/javascripts/1543570818/libs/highlight.langs.js"></script>


      <script src="https://dr.habracdn.net/habrcom/javascripts/1543570818/check-login.js"></script>

      <script type="text/javascript" src="https://habr.com/viewcount/post/430006/"></script>

    
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            if (typeof (_yaparams) != 'undefined') {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    params:_yaparams});
            } else {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            }

        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

    <!-- Facebook Pixel Code -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '317458588730613');
    fbq('track', 'PageView');
</script>
<noscript>
        <img height="1" width="1" src="https://www.facebook.com/tr?id=317458588730613&ev=PageView&noscript=1"/>
</noscript>
<!-- End Facebook Pixel Code -->
    
  </body>
</html>
